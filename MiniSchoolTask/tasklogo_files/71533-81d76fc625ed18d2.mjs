"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[71533],{762587:e=>{e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var r=e.length;a>0&&r>a&&(r=a);for(var l=0;l<r;++l){var c,u,d,_,p=e[l].replace(s,"%20"),h=p.indexOf(n);(h>=0?(c=p.substr(0,h),u=p.substr(h+1)):(c=p,u=""),d=decodeURIComponent(c),_=decodeURIComponent(u),Object.prototype.hasOwnProperty.call(o,d))?Array.isArray(o[d])?o[d].push(_):o[d]=[o[d],_]:o[d]=_}return o}},712361:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,o){return(n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(o){var s=encodeURIComponent(t(o))+i;return Array.isArray(e[o])?e[o].map(function(e){return s+encodeURIComponent(t(e))}).join(n):s+encodeURIComponent(t(e[o]))}).join(n):o?encodeURIComponent(t(o))+i+encodeURIComponent(t(e)):""}},817673:(e,t,n)=>{t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},17314:(e,t,n)=>{n.d(t,{Z:()=>c});var i,o,s=n(813653),a=n(861470),r=0,l=0;let c=function(e,t,n){var c=t&&n||0,u=t||Array(16),d=(e=e||{}).node||i,_=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==_){var p=e.random||(e.rng||s.Z)();null==d&&(d=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==_&&(_=o=(p[6]<<8|p[7])&16383)}var h=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:l+1,g=h-r+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(_=_+1&16383),(g<0||h>r)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");r=h,l=m,o=_;var f=((268435455&(h+=122192928e5))*1e4+m)%4294967296;u[c++]=f>>>24&255,u[c++]=f>>>16&255,u[c++]=f>>>8&255,u[c++]=255&f;var v=h/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=_>>>8|128,u[c++]=255&_;for(var b=0;b<6;++b)u[c+b]=d[b];return t||(0,a.Z)(u)}},395980:(e,t,n)=>{var i,o;n.r(t),n.d(t,{default:()=>a});let s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};s.hash="ba7787ee8344e34b151f6a5f633c4170";let a=s},499041:(e,t,n)=>{n.d(t,{b:()=>l,t:()=>r});var i=n(667294),o=n(342513),s=n(785893);let{Provider:a,useHook:r}=(0,o.Z)("LensContext");function l({children:e}){let[t,n]=(0,i.useState)(),[o,r]=(0,i.useState)(),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(),[_,p]=(0,i.useState)(),[h,m]=(0,i.useState)(!1);return(0,s.jsx)(a,{value:{heroImageUrl:o,historyData:l,image:t,imageData:_,isLensModalOpen:h,setHeroImageUrl:r,setHistoryData:c,setImage:n,setImageData:p,setIsLensModalOpen:m,setUpdatedCropArea:d,updatedCropArea:u},children:e})}},354500:(e,t,n)=>{n.d(t,{Oz:()=>i,mo:()=>a,nt:()=>s,v8:()=>o});let i={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},o="BUSINESS_PANEL",s="ASSET_PANEL",a=500},106622:(e,t,n)=>{n.d(t,{r:()=>v,K:()=>g});var i=n(667294),o=n(372085),s=n(783122);let a=async(e,t)=>{let{statsLog:n}=(0,s.t)();try{let i=new Date,s=await (0,o.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),a=new Date;return n&&(n.success("getMultipleBizEntityProperties",t),n.latency("getMultipleBizEntityProperties",a.getTime()-i.getTime(),t)),s.resource_response.data}catch(e){throw n&&n.failure("getMultipleBizEntityProperties",t),e}},r=async(e,t,n="PUT")=>{let{statsLog:i}=(0,s.t)();try{let s=new Date,a=await (0,o.Z)({url:"/ads/v4/business_entities",data:e,method:n}),r=new Date;return i&&(i.success("setMultipleBizEntityPropertiesFullUpdate",t),i.latency("setMultipleBizEntityPropertiesFullUpdate",r.getTime()-s.getTime(),t)),a.resource_response.data}catch(e){throw i&&i.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}};var l=n(342513),c=n(976731),u=n(288673),d=n(340523),_=n(149722),p=n(953565),h=n(785893);let{Provider:m,useHook:g}=(0,l.Z)("CustomShortcutsContext"),f=()=>Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]),v=({children:e})=>{let t=(0,_.Z)(),n=(0,d.F)(),[o,s]=(0,i.useState)({}),l=(0,i.useCallback)(async()=>{let{anyEnabled:e}=n.checkExperiment("exp_ia_navigation_mega_nav_m2"),{anyEnabled:i}=n.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),o=!!t.isAuth,r=!!t.isAuth&&t.isPartner,l=f().every(e=>!window.location.href?.includes(e));if(e&&o&&r&&!t.isLimitedLogin&&l)try{let e;e=i?a:u.FO;let n=(await e([{entity_id:t.id,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(n&&n.properties))return;let o=n.properties.NAVBAR_CONFIG;s(o?.customShortcuts||{})}catch(e){(0,p.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:t.id,error:(0,c.Z)(e,"message")}})}},[t.isAuth,t.id,t.isPartner,t.isLimitedLogin,n]),g=(e,t)=>({entity_id:e,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:t}}}),v=(0,i.useCallback)(async e=>{let{anyEnabled:i}=n.checkExperiment("exp_ia_navigation_mega_nav_m2"),{anyEnabled:o}=n.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!(t.isAuth&&i))return(0,p.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:"Auth_Error"}}),{error:"Auth_Error"};try{let n;n=o?r:u.VW;let i=g(t.id,e);return await n([i]),l(),{error:null}}catch(e){return(0,p.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:(0,c.Z)(e,"message")}}),{error:"Upsert_Error"}}},[t.isAuth,t.id,n,l]);(0,i.useEffect)(()=>{l()},[l]);let b=(0,i.useMemo)(()=>({shortcuts:o,upsertShortcuts:v}),[o,v]);return(0,h.jsx)(m,{value:b,children:e})}},334589:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},3808:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(616550),s=n(741983),a=n(340523),r=n(5859),l=n(149722),c=n(408998),u=n(995026);function d(){let e=(0,l.Z)(),t=(0,a.F)(),{isRTL:n}=(0,r.B)(),d=(0,o.TH)(),_=(0,o.k6)(),p=d.search;return(0,i.useEffect)(()=>{p.includes("enable_vertical_nav")&&((0,c.M)(),_.push("/"),window.location.reload())},[p,_]),(0,u.Z)(d)&&!n&&e.isAuth&&!e.isPartner&&!(0,s.OK)(d)&&t.checkExperiment("web_vertical_nav").anyEnabled}},214274:(e,t,n)=>{n.d(t,{Z:()=>i});let i='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},422317:(e,t,n)=>{n.d(t,{Z:()=>eg});var i=n(667294),o=n(616550),s=n(883119),a=n(3808),r=n(342513),l=n(510989),c=n(608516),u=n(785893);let d=(0,i.lazy)(()=>n.e(79337).then(n.bind(n,879337))),{Provider:_}=(0,r.Z)("LinkedBusinessAccountConfirmationModal");function p({children:e,onDismiss:t}){let[n,o]=(0,i.useState)(!1),s=(0,i.useMemo)(()=>({showLinkedBusinessAccountConfirmationModal:()=>{o(!0)}}),[]);return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(_,{value:s,children:e}),n&&(0,u.jsx)(l.Z,{name:"SafeSuspense_LinkedBusinessAccountConfirmationModalContextProvider_LinkedBusinessAccountConfirmationModal",children:(0,u.jsx)(c.Z,{children:(0,u.jsx)(d,{onDismiss:()=>{o(!1),t()}})})})]})}var h=n(619370),m=n(140017),g=n(339001);let f=()=>{let e=(0,m.ZP)();return(0,u.jsx)(s.he,{iconAccessibilityLabel:e._('Info message', 'header.accountsOptionsMenu.info.icon', 'ally label for the info icon on a Gestalt SlimBanner'),message:(0,u.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.nk)(e._('Business Access {{ isNow }} Business Manager {{ restOfMsg }}', 'header.accountsOptionsMenu.newEntryPtBold', 'Message informing of change in menu item. isNow: english words "is now" but not in bold, restOfMsg: rest of message but not in bold'),{isNow:(0,u.jsx)(s.xv,{inline:!0,children:e._('is now', 'header.accountsOptionsMenu.newEntryPtIsNow', 'Message informing of change in menu item')}),restOfMsg:(0,u.jsx)(s.xv,{inline:!0,children:e._('and can now be found in the Business drop-down menu.', 'header.accountsOptionsMenu.newEntryPtRestOfMsg', 'Message informing of change in menu item')})})}),type:"info"})};var v=n(214877),b=n(515278),y=n(654960),w=n(434593);function x(){let e=(0,m.ZP)();return{addAccount:{value:"add-account",label:e._('Add account', 'header.accountsOptionsMenu.addSecondaryAccountButton', 'Short text on the button that allows a user to add a new account or log in to another Pinterest account')},businessAccess:{value:"business-access",label:e._('Business Access', 'Link to business Access Landing Page', 'A button that links to business access')},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),contentClaiming:{value:"content-claiming",label:e._('Content claiming portal', 'header.accountsOptionsMenu.contentManagementPortal', 'menu item linking to the content management portal')},convertToBusiness:{value:"convert-to-business",label:e._('Convert to business', 'header.accountsOptionsMenu.addAccountButton', 'Short upsell text on the button that allows a user to convert to a Pinterest business account')},currentAccount:{value:"current-account",label:e._('Current account', 'SwitchAccountsList.CurrentlyInItem', 'The account the user is currently logged into')},failedAccount:{value:"failed-account",label:e._('Failed to log into this account', 'header.accountsOptionsMenu.failedAccountItem', 'Explanation for which account the user could not log into')},getHelp:{value:"get-help",label:e._('Help center', 'header.accountsOptionsMenu.helpCenter.label', 'menu item linking to the help center')},homefeedTuner:{value:"homefeed-tuner",label:e._('Home feed tuner', 'header.accountsOptionsMenu.homefeedTuner.label', 'menu item linking to home feed editor')},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e._('Log out', 'header.accountsOptionsMenu.logout', 'menu item that logs you out of your Pinterest account')},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e._('Terms of service', 'header.accountsOptionsMenu.termsOfService.label', 'menu item linking to our terms of service')},privacyPolicy:{value:"privacy-policy",label:e._('Privacy policy', 'header.accountsOptionsMenu.privacyPolicy.label', 'menu item linking to our privacy policy')},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e._('Reports and violations center', 'header.accountsOptionsMenu.reportsAndViolationsCenter', 'menu item linked to the reports and violations center')},reportBug:{value:"report-bug",label:e._('Report a bug', 'header.accountsOptionsMenu.reportBug', 'menu item to show employee-only report bug modal')},settings:{value:"settings",label:e._('Settings', 'header.accountsOptionsMenu.settings', 'menu item linking to your settings')},settingsPrivacy:{value:"settingsPrivacy",label:e._('Your privacy rights', 'header.accountsOptionsMenu.settingsPrivacy.label', 'menu item linking to privacy settings')},adsSupport:{value:"ads-support",label:e._('Ads support', 'header.accountsOptionsMenu.adsSupport', 'menu item linking to ads support')},requestFeature:{value:"request-a-feature",label:e._('Request a feature', 'header.accountsOptionsMenu.requestAFeature', 'menu item linking to request a feature page in help center')},pinterestTvStudio:{value:"pinterest-tv-studio",label:e._('Pinterest TV Studio', 'Link to Pinterest Tv Creator Studio', 'a link menu item that links to creator stuido')},betaTester:{value:"be-a-beta-tester",label:e._('Be a beta tester', 'header.accountsOptionsMenu.beBetaTesterProgram', 'A link to Pinterest Beta Tester program')},teenSafetyResources:{value:"teen-safety-resources",label:e._('Teen safety resources', 'header.accountsOptionsMenu.teenSafetyResources', 'Menu item linkin the user to the help center for teen resources page')}}}var C=n(991326),A=n(404891),S=n(610954),P=n(42068),I=n(340523),E=n(757640),k=n(702497),T=n(858128),L=n(149722),Z=n(29156),O=n(587703),j=n(805783),R=n(308548),N=n(427514),M=n(286318);let D=["chrome","windows"];var z=n(961550),B=n(408998),U=n(930837);let F=(0,n(832853).Z)(()=>n.e(73669).then(n.bind(n,984471)),void 0,"app-www-ReportBug-ReportBug"),{Provider:H,useHook:V}=(0,r.Z)("reportBugModalContext");function G({children:e}){let t=(0,m.ZP)(),[n,o]=(0,i.useState)(!1),s=(0,L.Z)(),a=(0,i.useCallback)(()=>{o(!0)},[]),r=(0,i.useMemo)(()=>({handleShowReportBugModal:a}),[a]);return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(H,{value:r,children:e}),n&&s.isAuth&&(0,u.jsx)(U.ZP,{accessibilityModalLabel:t._('Report bug', 'header.accountsOptionsMenu.logout', 'Modal accessibility label for reporting a bug'),onDismiss:()=>{o(!1)},children:(0,u.jsx)(l.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,u.jsx)(F,{onDismiss:()=>{o(!1)},username:s.username})})})]})}var $=n(953565);function W({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){let o=(0,m.ZP)();return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(s.xu,{marginTop:4,children:(0,u.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:t,text:o._('Log in again', 'header.accountsOptionsMenu.failedAccountLoginButton', 'Text on button allowing user to log into an account after failing to switch to that account')})}),(0,u.jsx)(s.xu,{marginTop:3,children:(0,u.jsx)(s.zx,{fullWidth:!0,onClick:()=>n(e.id),text:o._('Remove account', 'header.accountsOptionsMenu.failedAccountRemoveButton', 'Text on button allowing user to remove an account from their account switcher after failing to switch to it')})})]})}var q=n(406893),K=n(598228),Y=n(222881),J=n(589564);function X({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:r,showAdsSupportOption:l,isWwwSite:c,isPersistentArrUpsellEnabled:d}){let _=(0,L.Z)(),p=(0,m.ZP)(),{failedAccount:h,fetchedUserAccounts:g,handleAccountRepClick:U,handleLinkedAccountSwitch:F,handleReauthAccount:H,handleRemoveUnauthAccount:G}=(0,A.Z)(t,c),X=x(),Q=g.find(e=>e.id===(_.isAuth&&_.id)),ee=_.isAuth&&_.partner?.is_linked_business,et=(0,a.Z)(),{yourAccount:en,moreOptions:ei}=function({onDismiss:e,advertiser:t,showAdsSupportOption:n,isWwwSite:a,isPersistentArrUpsellEnabled:r,isVerticalNavEnabled:l}){let{id:c,isAuth:d,isEmployee:_,isLimitedLogin:p,isPartner:h,partner:g,teenSafetyOptionsUrl:U}=(0,L.Z)(),F=(0,m.ZP)(),{logContextEvent:H}=(0,v.v)(),G=(0,o.k6)(),{isLoaded:W,data:q}=(0,E.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:K,data:Y}=(0,E.Z)({name:"ApiResource",options:{url:"/v3/users/settings/"}}),{content_claiming_access:J=!1}=q||{},{handleShowReportBugModal:X}=V(),Q=(0,C.Z)(),ee=function(){let e=(0,m.ZP)(),t=(0,i.useContext)(M.Z),n=(0,j.kM)(window,t),o=(0,O.Z)(),s=e=>{o({component:247,element:e,event_type:101})},a=(0,N.Z)(e._('Install the {{appName}} app', 'header.accountsOptionsMenu.installApp', 'menu item linking app that can be installed'),{appName:(0,R.Z)(n)});return D.includes(n)?{onClick:()=>{if("windows"===n)s(11409),(0,Z.Z)(`${k.TMP}&cid=flyout_cta`,!0);else if("chrome"===n&&t){let e=t();e&&(s(11410),e.prompt())}},text:a}:null}(),{checkExperiment:et}=(0,I.F)(),en=!!d&&h,ei=d&&!!U,eo=!!d&&!p,es=(0,b.Z)(),{fetchedUserAccounts:ea,handleAccountRepClick:er,handleAddSecondaryAccount:el,handleClick:ec,handleLinkedAccountSwitch:eu,handleUnlockBusinessTools:ed,isLoading:e_,showUnlockBusinessTools:ep}=(0,A.Z)(e,a),eh=x(),em=ea.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),eg=ea.find(e=>e.id===(d&&c));d&&g?.is_linked_business&&(em=em.sort(e=>eg?.owners?.some(t=>t.id===e.id)?-1:1));let ef=K&&(!Y?.opt_in_private_account||Y.opt_in_private_account&&(em.length>1||1===em.length&&em[0].businesses.length>0)),ev=e_&&(0,u.jsx)(S.Z,{}),eb=eg?.businesses?.length?eg.businesses.map(e=>c!==e.id&&(0,u.jsx)(s.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>eu(e,eg.id),option:eh.lbaAccountSwitch(e),children:(0,u.jsx)(w.Z,{user:e},e.id)},e.id)):null,ey=em.map(e=>e.id!==(d&&c)?[(0,u.jsx)(s.Lt.Item,{onSelect:()=>er(e),option:eh.parentAccount(e),children:(0,u.jsx)(w.Z,{isCurrentAccount:(d&&c)===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>c!==t.id&&(0,u.jsx)(s.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>eu(t,e.id),option:eh.businessAccount(t),children:(0,u.jsx)(w.Z,{user:t},t.id)},t.id)):[]]:null),ew=a&&(0,u.jsx)(s.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:el,option:eh.addAccount}),ex=(0,u.jsx)(s.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:el,option:eh.addAccount}),eC=ep&&(0,u.jsx)(s.Lt.Item,{dataTestId:"header-menu-business-account",onSelect:ed,option:eh.convertToBusiness}),eA=W&&J&&(0,u.jsx)(s.Lt.Link,{href:"/content-claiming",onClick:()=>ec(13606),option:eh.contentClaiming}),eS=d&&!!_&&(0,u.jsx)(s.Lt.Item,{onSelect:()=>{X(),ec(13607),e()},option:eh.reportBug}),eP=(0,u.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-settings",href:eo?`https://${(0,y.Z)()}/settings`:"",onClick:({event:e})=>{if(es){e.stopPropagation(),es();return}ec(247)},option:eh.settings,children:r&&(et("dweb_google_connect_persistent_banner_v2").anyEnabled||et("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,u.jsxs)(s.kC,{children:[(0,u.jsx)(s.xv,{weight:"bold",children:"Settings"}),(0,u.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,u.jsx)(s.xu,{marginStart:2,children:(0,u.jsx)(T.Z,{height:8,width:8})})})]})}),eI=et("aid_exp_business_manager_dropdown_entrypoint").anyEnabled,eE=null;en&&(eE=eI?(0,u.jsx)(f,{}):(0,u.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-business-access",href:`https://${(0,y.Z)()}/business/business-access/`,onClick:()=>ec(11719),option:eh.businessAccess}));let ek=(0,u.jsx)(s.Lt.Link,{href:eo?"/edit":"",onClick:({event:e})=>{if(es){e.stopPropagation(),es();return}ec(11345)},option:eh.homefeedTuner}),eT=!en&&ee?(0,u.jsx)(s.Lt.Item,{onSelect:()=>{ee.onClick(),e()},option:eh.installApp(ee.text)}):null,eL=(0,u.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-privacy",href:eo?`https://${(0,y.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(es){e.stopPropagation(),es();return}ec(13334)},option:eh.settingsPrivacy}),eZ=(0,u.jsx)(s.Lt.Link,{href:eo?"/reports-and-violations":"",onClick:({event:e})=>{if(es){e.stopPropagation(),es();return}ec(14618)},option:eh.reportsAndViolationsCenter}),eO=ei?(0,u.jsx)(s.Lt.Link,{href:U??"",iconEnd:"visit",onClick:()=>{H({event_type:101,element:14321}),ec(14321)},option:eh.teenSafetyResources}):null,ej=en&&n&&(!t||(0,P.Z)((t||{}).actions||[],7))&&(0,u.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:k.JbB,iconEnd:"visit",onClick:()=>ec(10106),option:eh.adsSupport}),eR=en?(0,u.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:k.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",iconEnd:"visit",onClick:()=>ec(11345),option:eh.requestFeature}):null,eN=(0,u.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-help",href:`${k.gOE}?source=gear_menu_web`,iconEnd:"visit",onClick:()=>ec(8002),option:eh.getHelp}),eM=(0,u.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-tos",href:k.U5h,iconEnd:"visit",onClick:()=>ec(61),option:eh.termsOfService}),eD=(0,u.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-policy",href:k.R_9,iconEnd:"visit",onClick:()=>ec(8004),option:eh.privacyPolicy}),ez=(0,u.jsx)(s.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:"https://www.pinterest.com/public-beta/",iconEnd:"visit",onClick:()=>ec(13613),option:eh.betaTester}),eB=(0,u.jsx)(s.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:Q,option:eh.logOut}),eU=ef?(0,u.jsxs)(s.Lt.Section,{label:F._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[ev,eb,ey,!Y?.opt_in_private_account&&ew,!Y?.opt_in_private_account&&eC]},"your-accounts"):null,eF=(0,u.jsxs)(s.Lt.Section,{label:F._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[ev,eb,ey,!Y?.opt_in_private_account&&ex,!Y?.opt_in_private_account&&eC,eP,eE]},"your-accounts"),eH=(0,u.jsxs)(s.Lt.Section,{label:F._('Content', 'header.accountsOptionsMenu.contentHeader', 'header for content section of menu'),children:[eA,eZ,eT]}),eV=(0,u.jsxs)(s.Lt.Section,{label:F._('Help', 'header.accountsOptionsMenu.helpHeader', 'header for help section of menu'),children:[eO,eN,ej,eR,eS]}),eG=(0,u.jsxs)(s.Lt.Section,{label:F._('Privacy', 'header.accountsOptionsMenu.privacyHeader', 'header for privacy section of menu'),children:[eD,eL]}),e$=(0,u.jsxs)(s.Lt.Section,{label:"",children:[eM,eB]}),eW=(0,u.jsx)(s.Lt.Item,{onSelect:()=>{(0,$.nP)(z.Un.MORE_OPTIONS_OPT_OUT,{sampleRate:1}),(0,B.f)(),G.push("/"),window.location.reload()},option:{label:"Opt out of Vertical Nav",value:"opt-out-vertical-nav"}}),eq=(0,u.jsxs)(s.Lt.Section,{label:F._('More options', 'header.accountsOptionsMenu.optionsHeader', 'header for options section of menu'),children:[l?eW:null,eS,eP,eE,ek,eT,ej,eR,eZ,eA,eL,eO,eN,eM,eD,ez,eB]});return{yourAccount:en?eF:eU,moreOptions:en?[eH,eV,eG,e$]:eq}}({onDismiss:t,advertiser:n,showAdsSupportOption:l,isWwwSite:c,isPersistentArrUpsellEnabled:d,isVerticalNavEnabled:et}),eo=(0,i.useRef)(null),es=(0,J.Z)(),ea="HeaderAccountOptionsFlyout",er="verticalNavDropdownAnchor",el=(0,u.jsxs)(s.Lt,{anchor:et?eo.current:e,disableMobileUI:!0,id:ea,idealDirection:"down",isWithinFixedContainer:!0,onDismiss:t,zIndex:new s.Ry(1e3),children:[r&&(h?(0,u.jsxs)(s.Lt.Section,{label:p._('Oh no! You\'re no longer logged into', 'header.accountsOptionsMenu.failedAccount', 'Full sentence: "Oh no! You\'re no longer logged into <user\'s account>". Text telling user that they are no longer logged into an account after trying to switch to it'),children:[(0,u.jsx)(s.Lt.Item,{onSelect:()=>{},option:X.failedAccount,children:(0,u.jsx)(w.Z,{user:h})}),(0,u.jsx)(W,{failedAccount:h,handleReauthAccount:H,handleRemoveUnauthAccount:G})]}):[(0,u.jsx)(s.Lt.Section,{label:p._('Currently in', 'SwitchAccountsList.CurrentlyInTitle', 'Title for currently logged in account on Switch Account Page'),children:!!Q&&(0,u.jsx)(s.Lt.Item,{onSelect:()=>ee?F(Q,void 0):U(Q),option:X.currentAccount,selected:X.currentAccount,children:(0,u.jsx)(s.rU,{href:c?`/${Q.username}/`:`${K.C0}/${Q.username}/`,underline:"none",children:(0,u.jsx)(w.Z,{isCurrentAccount:!0,user:Q})})})},"currently-in"),en]),ei]});return(0,u.jsx)(Y.Z,{children:et?(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(q.Z,{unsafeCSS:`
              /* Prevent default transform used to position Dropdown near anchor */
              [data-testid='${er}'] > div > div {
                transform: none !important;
              }

              /* Ensure dropdown is the correct dimensions */
              [data-testid='${er}'] #${ea} {
                height: calc(100vh - ${2*z.zz}px) !important;
                max-height: none !important;
                max-width: ${z.GJ}px !important;
                width: ${z.GJ}px !important;
              }

              /* Subtitle text tied to the Dropdown.Section */
              [data-testid='${er}'] #${ea} [aria-label] > [role="presentation"] {
                padding: 12px !important;
              }

              /* Adjust spacing for each highlightable menu item */
              [data-testid='${er}'] [role="menuitem"] > div {
                padding: 12px !important;
              }
        `}),(0,u.jsx)(s.xu,{ref:eo,dangerouslySetInlineStyle:{__style:{left:es+z.L7}},"data-testid":er,marginTop:4,position:"fixed",top:!0,children:el})]}):el})}let Q=e=>["MOBILE","DESKTOP"].includes(e),ee=e=>"STERLING"===e,et=e=>"ANALYTICS"===e;var en=n(205841),ei=n(454514),eo=n(739670),es=n(486587),ea=n(624797),er=n(741983),el=n(737811),ec=n(13848),eu=n(311694),ed=n(514810),e_=n(983983),ep=n(683882),eh=n(89511),em=n(728277);function eg({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,isPersistentArrUpsellEnabled:r,advertiser:l,idealTooltipDirection:c,icon:d,iconSize:_,defaultIconColor:g,selectedIconColor:f,tooltipZIndex:v,onClick:b,onPanelChange:y}){let w=(0,m.ZP)(),{showAccountMenuFlyout:x,updateHeaderState:C}=(0,ed.Z)(),A=e=>{C({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[S,P]=(0,i.useState)(!1),[k,Z]=(0,i.useState)(!0),O=(0,o.k6)(),j=(0,L.Z)(),R=(0,em.Z)(),N=(0,eh.Z)({user:R.data,viewer:j}),M=N&&k,D=(0,E.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:j.isAuth?j.id:""}}),z=(0,i.useRef)(null),{checkExperiment:B}=(0,I.F)(),U=Q(e)&&!t||et(e)||ee(e),F=ee(e)||n,H=(0,o.TH)(),V=(0,ec.F9)();(0,i.useEffect)(()=>{!function({showOneToast:e,i18n:t,location:n,history:i,username:o,fullName:s,avatarUrl:a}){if(!(n&&n.search))return;let r=(0,es.Z)(t,n,o||""),{message:l}=(0,ea.mB)(n.search),c=l===eo.pN||l===eo.aU;r&&(e(({hideToast:e})=>(0,u.jsx)(ei.ZP,{duration:eo.Jl,onHide:e,text:r,thumbnail:c?{avatar:(0,u.jsx)(en.qE,{name:s||"",size:"md",src:a||""})}:void 0})),i.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}({showOneToast:V.showOneToast,i18n:w,location:H,history:O,username:j.username||"",fullName:j.fullName||"",avatarUrl:j.imageMediumUrl||""})},[]),(0,i.useEffect)(()=>(j.isAuth&&j.partner&&(0,el.Mt)(j,D.data),()=>{j.isAuth&&j.partner&&(0,el.CV)("flyout.dismiss")}),[]);let $=()=>{A(!1)},W=()=>{b?.(),A(!x),P(!1),Z(!1)};(0,i.useEffect)(()=>{(D.data?.businesses??[]).length>0&&P(!0)},[D]),(0,i.useEffect)(()=>{y?.(x)},[x]);let{pathname:q}=H,K=!(q.startsWith("/settings")||q.startsWith("/edit"))&&(j.username&&q.startsWith(`/${j.username}`)||q.startsWith("/news_hub")),Y=N||q.startsWith("/homefeed")||q.startsWith("/business/hub")||"/"===q,J=(0,a.Z)(),eg=w._('Accounts and more options', 'navbar.actionsOptionsButton.tooltip', 'Tooltip text for icon button to open accounts/options menu');return(0,u.jsx)(eu.T,{children:(0,u.jsx)(G,{children:(0,u.jsxs)(p,{onDismiss:$,children:[(0,u.jsxs)(s.xu,{ref:z,"data-test-id":"header-accounts-options-button",position:"relative",children:[J?(0,u.jsx)(ep.Eq,{defaultSvgUrl:ep.vX.moreOptions.default,onSelect:W,selected:x,selectedSvgUrl:ep.vX.moreOptions.selected,tooltipText:eg}):(0,u.jsx)(s.hU,{accessibilityLabel:w._('Accounts and more options', 'header.accountsOptionsMenu.accountsOptionsMenuButton', 'accessibility label for the button that shows the accounts/options menu'),icon:d||"arrow-down",iconColor:x?f||"darkGray":g||"gray",onClick:W,size:_||"xs",tooltip:{accessibilityLabel:"",text:eg,zIndex:v||new s.H3([new s.Ry(e_.fe)]),idealDirection:c}}),r&&(B("dweb_google_connect_persistent_banner_v2").anyEnabled||B("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{right:"8px"}},position:"absolute",top:!0,children:(0,u.jsx)(T.Z,{height:14,isAbsolute:!0,text:"1",width:14})})]}),x&&(0,u.jsx)(s.xu,{"data-test-id":"HeaderAccountsOptionsFlyout",children:(0,u.jsx)(X,{advertiser:l,anchor:z.current,isPersistentArrUpsellEnabled:r,isWwwSite:Q(e),onDismiss:$,showAccountSwitcher:U,showAdsSupportOption:F})}),S&&(0,u.jsx)(s.xu,{"data-test-id":"LinkedBusinessAccountFlyout",children:(0,u.jsx)(h.default,{anchor:z.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,er.LO)(H)&&(0,u.jsx)(h.default,{anchor:z.current,experienceIds:[503137],idealDirection:"left",placementId:1000303}),j.isAuth&&!j.partner?(0,u.jsx)(h.default,{anchor:z.current,experienceIds:[503893,503602],onClickComplete:()=>O.push("/settings"),placementId:1000109,showCaret:!0}):null,M&&(0,u.jsx)(h.default,{anchor:z.current,experienceIds:[505848],hasFullWidthButton:!1,onClickComplete:()=>{Z(!1),O.push("/settings/permissions")},placementId:1000109,showCaret:!0,textWeight:"normal"}),K&&(0,u.jsx)(h.default,{anchor:z.current,experienceIds:[505283],flyoutSize:"md",hasFullWidthButton:!1,onClickComplete:()=>{O.push("/settings/privacy/")},placementId:1000109,showCaret:!0,textAlign:"center",textWeight:"bold"}),Y&&(0,u.jsx)(h.default,{anchor:z.current,experienceIds:[505949],hasFullWidthButton:!1,onClickComplete:()=>{O.push("/settings/claim")},placementId:1000109,showCaret:!0,textWeight:"normal"})]})})})}},434593:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),o=n(205841),s=n(140017),a=n(785893);function r(e){return e.partner?.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function l({user:e,isCurrentAccount:t}){let n=(0,s.ZP)(),l=e.partner;return(0,a.jsxs)(i.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,children:[(0,a.jsx)(i.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,a.jsx)(o.qE,{accessibilityLabel:"",name:r(e),src:function(e){let{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}(e)})}),(0,a.jsxs)(i.xu,{maxWidth:176,children:[(0,a.jsx)(i.xv,{lineClamp:1,weight:"bold",children:r(e)}),(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,a.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",children:l?n._('Business', 'SwitchAccountsListItem.BusinessAccount.label', 'Label shown for business account in the Account Switcher'):n._('Personal', 'SwitchAccountsListItem.PersonalAccount.label', 'Label shown for personal account in the Account Switcher')})}),t&&(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,a.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",children:l?e.partner?.bizContactEmail:e.email})})]})]})}},991326:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(587703),o=n(737811),s=n(488726),a=n(598753),r=n(149722),l=n(939341);function c(){let e=(0,r.Z)(),t=(0,i.Z)(),n=(0,s.aU)(),{headerVisible:c,activeClient:u,changeClient:d}=(0,l.a)()||{};return function(){if(t({event_type:101,component:8,element:8005}),c&&u){d();return}(0,a.lv)()>1?(e.isAuth&&((0,o.RD)(e.id),(0,o.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,a.Q)()})):((0,o.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},404891:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(616550),s=n(216167),a=n(316353),r=n(214877),l=n(322079),c=n(30378),u=n(307772),d=n(737811),_=n(702497),p=n(149722),h=n(311694),m=n(794109),g=n(953565);function f(e,t){let{flushContextEvents:n,logContextEvent:f}=(0,r.v)(),[v,b]=(0,i.useState)(!1),[y,w]=(0,i.useState)(null),x=(0,o.k6)(),C=(0,p.Z)(),{showAccountSwitcherLoginModal:A}=(0,h.g)(),S=()=>{A("account_switcher_flyout",y?.email)},{userAccounts:P}=(0,m.N)(),{data:I}=(0,a.iY)(),E=(0,l.Z)(),k=!!(C.isAuth&&!C.partner&&I?.businesses)&&0===I.businesses.length;(0,i.useEffect)(()=>(C.isAuth&&(0,d.Mt)(C,I),()=>{(0,d.CV)("flyout.dismiss")}),[]),(0,i.useEffect)(()=>((0,d.CV)("modal.shown"),()=>{(0,d.CV)("modal.dismiss")}),[]),(0,i.useEffect)(()=>{P.length>1&&f({event_type:13,view_type:234,component:13369,element:12722})},[f,P]);let T=(e,t)=>{throw(0,d.z3)(e,"account_switcher_flyout"),b(!1),t},L=e=>{let{id:t}=e;b(!0),f({event_type:101,component:13369,element:11196}),(0,d.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),c.Z.pause(u.LU),n(!0),E({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then((n={})=>{n?.resource_response.data?.user?(0,d.iS)("/",t,"account_switcher_flyout"):((0,d.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,d.z3)(t,"account_switcher_flyout"),w(e),b(!1))},e=>{T(t,e)})};return{failedAccount:y,fetchedUserAccounts:P,handleAccountRepClick:e=>{C.isAuth&&e.id!==C.id&&L(e)},handleAddSecondaryAccount:()=>{(0,d.CV)("add_account_click",null,"account_switcher_flyout"),f({event_type:101,component:8,element:12756}),e(),x.push("/add-account")},handleClick:t=>{13290!==t&&f({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,i)=>{let{partner:o}=e;if(b(!0),f({event_type:101,component:13369,element:o?.isLinkedBusiness?11195:11194}),c.Z.pause(u.LU),n(!0),o?.isLinkedBusiness){let t={business_id:e.id,get_user:!0,owner_id:i};(0,g.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),E({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(()=>{(0,g.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,d.iS)("/",e.id,"account_switcher_flyout")},t=>{T(e.id,t)})}else s.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{C.isAuth&&((0,d.RD)(C.id),(0,d.iS)(t?`/${e.username}`:"/",C.id,"account_switcher_flyout"))},e=>{C.isAuth&&T(C.id,e)})},handleReauthAccount:()=>{(0,d.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),w(null),S()},handleRemoveUnauthAccount:e=>{(0,d.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,d.RD)(e),w(null)},handleUnlockBusinessTools:()=>{e(),C.isAuth?window.location.href="https://www.pinterest.com/convert-business":x.push(`${_.KDH}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`),f({event_type:101,component:8,element:10299})},isLoading:v,showUnlockBusinessTools:k}}},42068:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t){return e.includes(t)||e.includes(80)}},86785:(e,t,n)=>{n.d(t,{G6:()=>s,i7:()=>a,oi:()=>i,u$:()=>o,un:()=>l,vU:()=>r,w1:()=>c});let i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=e=>e?e.includes("Chrome")?i.CHROME:e.includes("Safari")?i.SAFARI:e.includes("Firefox")?i.FIREFOX:e.includes("Opera")?i.OPERA:e.includes("IE")?i.IE:e.includes("Edge")?i.EDGE:i.OTHER:i.OTHER;function s(e){return o(e)===i.SAFARI}function a(e){return o(e)===i.CHROME}function r(e){return o(e)===i.FIREFOX}function l(e){return o(e)===i.EDGE}function c(e){return o(e)===i.IE}},807657:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(29156),o=n(217058),s=n(968946);let a=(e,t)=>{t?.disableOriginCheck||(0,s.Z)(e)||(e="/",(0,o.My)("url_reset")),(0,i.Z)(e)}},114267:(e,t,n)=>{n.d(t,{Z:()=>i});let i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},137831:(e,t,n)=>{function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>s});class o{static reportGoogleConversion(e,t,n,i){if(!i){if(void 0===window.gtag_report_conversion){o.queuedGoogleConversions.push({id:e,label:t,url:n});return}window.gtag_report_conversion(e,t,n)}}static reportFacebookConversion(e,t,n){if(void 0===window.fbq){o.queuedFacebookConversions.push({id:e,event:t,data:n});return}n?window.fbq("track",t,n):window.fbq("track",t)}static reportCustomFacebookConversion(e,t,n){if(void 0===window.fbq){o.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n});return}n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t)}static reportPinterestConversion(e,t,n){if(void 0===window.pintrk){o.queuedPinterestConversions.push({id:e,event:t,data:n});return}n?window.pintrk("track",t,n):window.pintrk("track",t)}static reportTheTradeDeskConversion(e,t){let n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){let n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){let i=1e13*Math.random(),o=document.createElement("iframe");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("frameborder","0"),o.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};
    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){let n=document.createElement("script");t||(n.setAttribute("async",""),n.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),n.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};let n=o.queuedGoogleConversions;for(let i=0;i<n.length;i+=1){let s=n[i];s.id===e&&o.reportGoogleConversion(s.id,s.label,s.url,t)}}),document.body.insertBefore(n,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,i,s,a,r,l;t=window,n=document,i="script",s="//connect.facebook.net/en_US/fbevents.js",t.fbq||(a=t.fbq=function(){"function"==typeof a.callMethod?a.callMethod(...arguments):a.queue.push(arguments)},t._fbq||(t._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(r=n.createElement(i)).async=!0,r.src=s,(l=n.getElementsByTagName(i)[0]).parentNode.insertBefore(r,l)),window.fbq("init",e),window.fbq("track","PageView");let c=o.queuedFacebookConversions;for(let t=0;t<c.length;t+=1){let n=c[t];n.id===e&&(n.isCustomEvent?o.reportCustomFacebookConversion(e,n.event,n.data):o.reportFacebookConversion(e,n.event,n.data))}}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};let t=window.pintrk;t.queue=[],t.version="3.0";let n=document.createElement("script");n.async=!0,n.src=e;let i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");let t=o.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){let i=t[n];i.id===e&&o.reportPinterestConversion(e,i.event,i.data)}}}i(o,"queuedGoogleConversions",[]),i(o,"queuedFacebookConversions",[]),i(o,"queuedPinterestConversions",[]);let s=o},316353:(e,t,n)=>{n.d(t,{OS:()=>s,iY:()=>a});var i=n(757640),o=n(149722);let s=4;function a(){let e=(0,o.Z)();return(0,i.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}},65775:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(140017),s=n(785893);function a(){let e=(0,o.ZP)();return(0,s.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(i.$j,{accessibilityLabel:e._('Loading signup form', ' - ', ' -- '),show:!0})})}},847160:(e,t,n)=>{n.d(t,{Bx:()=>o,N4:()=>a,is:()=>r,lt:()=>i,oM:()=>s});let i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),r=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},515278:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(847160),o=n(140017),s=n(166770);let a=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,s.H)(),a=(0,o.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),n?.setText(t?.loginModalHeader||i.lt(a))}}},769666:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(372085),o=n(217058),s=n(224796),a=n(191313),r=n(407053),l=n(264985),c=n(543975),u=n(926234),d=n(67661);async function _(e){let t=(0,d.ZP)(),n=(0,l.nR)(),_=(0,c.d)(),p=t?t.map(({pageType:e,...t})=>t):null,h={is_register:e??!1};if(p&&(h.unauth_visited_pages=JSON.stringify(p)),n&&(h.invite_redemption=JSON.stringify(n)),_&&(h.paid_landing=JSON.stringify(_)),p||n||_){let e=await (0,i.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:h});(0,o.My)(`landing_signals.flush.${e.status}`),(0,d.t_)()&&(0,a.L_)(r.tz),(0,a.qn)(s.ny)&&(0,a.L_)(s.ny),(0,a.qn)(s.Vb)&&(0,a.L_)(s.Vb),(0,l.nR)()&&((0,a.L_)(r.Lg),(0,a.L_)(r.dx)),(0,c.d)()&&(0,a.L_)(r.eV),(0,u.O)()&&(0,a.L_)(r.fo)}}},627879:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(372085),o=n(288240),s=n(569372);let a=async({clientTrackingParams:e,href:t,isMounted:n,pinId:a,spamCheckCallback:r})=>{let l=await function(e){let t=(0,o.Z)(e),n=s.y8.get("ApiResource",t);if(n)return n;let a=(0,i.Z)(e);return s.y8.add("ApiResource",t,a),a}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:a,url:t}});if(!l.resource_response.error&&n){let{message:e,redirect_status:t,url:n}=l.resource_response.data||{};r({blocked:["blocked","suspicious","porn"].includes(t),message:e,redirectStatus:t,sanitized_url:n})}}},921247:(e,t,n)=>{n.d(t,{Z:()=>i});function i({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}},495442:(e,t,n)=>{n.d(t,{Z:()=>i});function i(){window&&window.focus(),document.activeElement&&document.activeElement.blur()}},794977:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(467139);function o({location:e,pinId:t,surface:n}){return!!n&&!i.ZF.includes(n)||e.pathname.includes(t)}},340370:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(616550),s=n(627879),a=n(921247),r=n(979606),l=n(794977),c=n(96761),u=n(460270),d=n(862249),_=n(557874),p=n(953565);function h(e){let{clientTrackingParams:t,externalData:n,href:h,onHistoryChange:m,target:g}=e,[f,v]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),w=(0,o.k6)(),x=(0,o.TH)(),C=(0,u.Z)(h),A=(0,d.Z)({url:C}),{showWarning:S}=(0,_.s)()??{},{pin:P,surface:I}=n||{},E=t||P?.trackingParams,k=(0,c.Z)();return(0,i.useEffect)(()=>(y(!0),()=>{y(!1)}),[]),(0,i.useEffect)(()=>{A&&P&&null===f&&b&&(!P.promoter||P.isDownstreamPromotion)&&(0,l.Z)({location:x,pinId:P.entityId,surface:I})&&(0,s.Z)({clientTrackingParams:E,isMounted:b,pinId:P.entityId,spamCheckCallback:e=>v(e),href:C})},[E,P,I,C,A,b,x,f]),({event:e})=>{if(!(0,a.Z)({isOffsiteUrl:A,event:e})){if(e.preventDefault(),!h||"string"==typeof h&&h.startsWith("#")){(0,p.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:x.pathname,href:h}});return}A||n?.dangerouslyForceOffsiteUrl?k({auxData:n?.auxData,clientTrackingParams:E,pin:n?.pin&&{attributionSourceId:n.pin.attributionSourceId,campaignId:n.pin.campaignId,isPromoted:n.pin.isPromoted,pinPromotionId:n.pin.pinPromotionId,isThirdPartyAd:n.pin.isThirdPartyAd,advertiserId:n.pin.advertiserId,destinationUrl:n.pin.destinationUrl,link:n.pin.link,domain:n.pin.domain},pinId:n?.pin?.entityId,queryParams:n?.queryParams,showWarning:S,spamCheck:f,url:C}):(0,r.Z)({event:e,href:h,history:w,onHistoryChange:m,target:"blank"===g?"blank":null})}}}},96761:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(453880),o=n(934378),s=n(263032),a=n(86785),r=n(214877),l=n(551501),c=n(931090),u=n(171966);let d=(e,t,n)=>{let i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(o.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(o.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(o.$N.ATTRIBUTE_ON,n),i.click()},_=(e,t,n,i,a,r,l)=>{let c=(0,s.m_)(e,[n,i,a],!0,r,l),u=document.createElement("a");u.setAttribute("href",t),u.setAttribute("target","_blank"),u.setAttribute("rel","noopener nofollow noreferrer"),u.style.cursor="pointer",u.style.display="block",u.setAttribute(o.NR.SOURCE,c),u.click()},p=()=>{let{logContextEvent:e}=(0,r.v)();return({attributionSourceId:t,auxData:n,campaignId:o,clientTrackingParams:s,href:r,isPromoted:c,pinId:u,pinPromotionId:p,isThirdPartyAd:h,advertiserId:m,destinationUrl:g,link:f,domain:v})=>{if(!c)return!1;let b=(0,i.Z)(),y=(0,l.Z)(r,{params:{pinId:u,csrId:null,clientTrackingParams:s,auxData:n,isThirdPartyAd:h}}),w=b?.userAgent.browserName??"";if((0,a.G6)(w)){let{group:n}=b?.experimentsClient.checkExperiment("m10n_event_conversion_measurement")??{},i=b?.userAgent.browserVersion?b.userAgent.browserVersion:"0.0",a=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&a>=14.1&&["enabled_safari"].includes(n))return d(t,y,r),e({event_type:101,clientTrackingParams:s,object_id_str:u||"",aux_data:{pin_id:u||"",click_measurement_ppid:p||"",click_measurement_campaign_id:o||"",is_pcm:!0,attribution_source_id:t,page_url:r}}),!0}else if((0,a.i7)(w)&&window.document.featurePolicy?.allowsFeature("attribution-reporting"))return _(t,y,g,f,v,o,m),e({event_type:101,clientTrackingParams:s,object_id_str:u||"",aux_data:{pin_id:u||"",click_measurement_ppid:p||"",click_measurement_campaign_id:o||"",is_arapi:!0,attribution_source_id:t,page_url:r}}),!0;return!1}},h=e=>{let t=p();return({auxData:n,clientTrackingParams:i,pin:o,pinId:s,queryParams:a,showWarning:r,spamCheck:l,url:d})=>{if("undefined"!=typeof window&&window.Windows){(0,u.Z)(d,{clientTrackingParams:i,pinId:s,hasPin:!!o,auxData:n,isThirdPartyAd:o?.isThirdPartyAd});return}if(!o&&!e?.isFromClickthroughLink){(0,c.Z)(d,a?{queryParams:a}:{params:{pinId:s}});return}if(l?.blocked){r?.(l);return}o&&t({attributionSourceId:o.attributionSourceId,auxData:n,campaignId:o.campaignId?String(o.campaignId):null,clientTrackingParams:i,href:d,isPromoted:o.isPromoted,pinId:s,pinPromotionId:o.pinPromotionId?String(o.pinPromotionId):null,isThirdPartyAd:o.isThirdPartyAd,advertiserId:o.advertiserId?o.advertiserId:null,destinationUrl:o.destinationUrl,link:o.link,domain:o.domain})||(0,c.Z)(d,{params:{clientTrackingParams:i,auxData:n,pinId:s,isThirdPartyAd:o?.isThirdPartyAd}})}}},739670:(e,t,n)=>{n.d(t,{Di:()=>a,Jl:()=>i,R:()=>o,aU:()=>r,j2:()=>s,pN:()=>l});let i=1e4,o="permanent_account_closure",s="account_deletion_email_sent",a="account_deactivated",r="unlink_successful",l="account_switch_to_settings"},486587:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(169346),o=n(624797);function s(e,t,n=""){if(!(t&&t.search))return"";let{message:a}=(0,o.mB)(t.search),r=(0,o.mB)(t.search).username||n,l="true"===(0,o.mB)(t.search).multiple_accounts;return(0,i.Z)({i18n:e,message:a,multipleAccounts:l,username:r})}},169346:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),o=n(339001),s=n(739670),a=n(785893);function r(e,t,n){return(0,a.jsx)(i.xv,{align:n||"center",children:(0,o.nk)(e,{username:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:t})})})}function l({i18n:e,message:t,multipleAccounts:n,username:i=""}){switch(t){case s.R:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case s.j2:if(n)return r(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),i);return r(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),i);case s.Di:return r(n?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),i);case s.aU:return r(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),i,"start");case s.pN:return r(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),i,"start");default:return""}}},737811:(e,t,n)=>{n.d(t,{CV:()=>r.Z,Mt:()=>u,RD:()=>c,iS:()=>d,z3:()=>_});var i=n(29156),o=n(30378),s=n(307772),a=n(54576),r=n(300494),l=n(598753);let c=e=>{let t={...(0,l.rl)()};delete t[e],(0,l.r8)(t)},u=(e,t)=>{if(!(0,l.PE)()||e&&!(e.id in(0,l.rl)())){if(e.partner&&e.partner.is_linked_business&&t){(0,a.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});return}(0,a.Z)(e)}},d=(e,t,n)=>{(0,r.Z)("switch_account_success",{destination_user_id:t},n),(0,i.Z)(e)},_=(e,t)=>{o.Z.resume(s.Z3),(0,r.Z)("switch_account_failure",{destination_user_id:e},t)}},705895:(e,t,n)=>{function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>a});let o=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},s=e=>{if(e.isHidden){let{reason:t}=e;o.windowInFocus=!1,o.onPauseListeners.forEach(e=>e(t))}else o.windowInFocus=!0,o.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>s({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>s({isHidden:!1})),window.addEventListener("blur",()=>s({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>s({isHidden:!1})),window.addEventListener("pagehide",()=>s({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>s(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>s(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let a=o},729817:(e,t,n)=>{n.d(t,{Kw:()=>r,RD:()=>l,dD:()=>u});var i=n(216167),o=n(372085),s=n(598753);let a=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],r=async()=>{let e=await i.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},l=(e,t)=>{let n=Object.freeze({});try{n=(0,s.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let i=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===i.length||n[i[0]].logged_in){e(`${t}.removeAccountDataFromLocalStorage.early_return`);return}let o=i.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,s.r8)(o),e(`${t}.removeAccountDataFromLocalStorage.updated`)},c=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...c(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name??"",isLinkedBusiness:t.partner?.is_linked_business??!1}}))}),u=async e=>{let t=await r(),n=e.id;t[n]||(t[n]={logged_in:!0});let i=Object.keys(t||{}).map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:a.join(",")}})),s=(await (0,o.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(i)}})).resource_response.data;return s&&Object.keys(s).length>0?function(e){let t=e.every(e=>!!e.fullName)?"fullName":"username";return[...e].sort((e,n)=>e[t]>n[t]?1:n[t]>e[t]?-1:0)}(Object.keys(s).filter(e=>"success"===s[e].status).map(e=>c(s[e].data))):[]}},508218:(e,t,n)=>{n.d(t,{Ny:()=>d,ZP:()=>p,eD:()=>m,lp:()=>h,nY:()=>g});var i=n(224796),o=n(807657),s=n(602377),a=n(731714),r=n(702497),l=n(217058),c=n(88682),u=n(623891);let d=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class _{static defaultLoginRedirectUrl(){return window.location.pathname===r.lfe||window.location.pathname===r.ZEf||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith("/add-account")?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=a.Z.getItem(i.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=a.Z.getItem(i.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let n=(new Date().getTime()/1e3).toString();t.push(n);let o=t.join("|");a.Z.setItem(i.kl,o)}static isFullyLoggedIn(e,t){return e&&t===s.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,u.Z)();if(t){let n=t.next;n&&(e=n,delete t.next),e=(0,c.Z)(e||"/",t)}}(0,o.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){a.Z.setItem(i.F6,Date.now()),!t&&e&&"/"!==e?_.handleRedirect(e):_.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then(()=>{(0,l.My)("navigatorCredentials.store.success")})}catch(e){(0,l.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,l.My)("multi_step_login"),_.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let p=_;function h(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":h(e)}function g(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},598753:(e,t,n)=>{n.d(t,{M3:()=>c,PE:()=>a,Q:()=>u,lv:()=>r,r8:()=>s,rl:()=>o,yW:()=>l});var i=n(191313);let o=()=>{try{let e=(0,i.qn)("MULTIPLE_ACCOUNTS");return e?JSON.parse(e):Object.freeze({})}catch{return Object.freeze({})}},s=e=>(0,i.Nh)("MULTIPLE_ACCOUNTS",JSON.stringify(e)),a=()=>!!(0,i.qn)("MULTIPLE_ACCOUNTS"),r=()=>Object.keys(o()).length,l=()=>{try{let e=(0,i.qn)("MULTIPLE_ACCOUNTS_GROUP");return e?JSON.parse(e):null}catch{return null}},c=e=>(0,i.Nh)("MULTIPLE_ACCOUNTS_GROUP",JSON.stringify(e)),u=()=>({multipleAccountMap:o(),multipleAccountGroupId:l()})},182962:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(340523);let s=()=>{let e=(0,o.F)();return(0,i.useCallback)(()=>{e.flush()},[e])}},503325:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(172045),o=n(17314);function s(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),r=class{constructor(e){s(this,"start",()=>(this.startTime=a(),this.startTime)),s(this,"end",()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,i.Z)()}catch(e){this.uuid=(0,o.Z)()}e&&Object.assign(this,e)}}},28449:(e,t,n)=>{n.d(t,{$:()=>i,Z:()=>s});let{Provider:i,useMaybeHook:o}=(0,n(342513).Z)("TimeSpentManagerContext"),s=o},722363:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(373314),s=n(217058);function a(){return(0,i.useCallback)(e=>{e.action&&e.event?(0,s.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,o.Z)()}):(0,s.My)("pinner_conversion.missing_tags")},[])}},623409:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(616550),s=n(741983),a=n(389638),r=n(217058);let l=e=>(0,s.L6)(e)?"pin":(0,s.am)(e)?"board":(0,s.Xn)(e)?"login":(0,s.C$)(e)?"home":(0,a.Z)(e)?"profile":(0,s.dr)(e)?"ideas":(0,s.gT)(e)?"ideas-root":(0,s.tZ)(e)?"videos":(0,s.Q0)(e)?"videos-category":(0,s.$Y)(e)?"article":(0,s.E0)(e)?"shopping-spotlight":(0,s.Zz)(e)?"today":(0,s.j8)(e)?"unauth-profile":(0,s.f1)(e)?"shopping-root":(0,s.OX)(e)?"shopping-category":"other";function c(){let e=(0,o.TH)();return(0,i.useCallback)(({action:t,item:n,within:i})=>{let o=l(e);(0,r.My)(`logged_out_product.interaction.${o}.${t}`,{item:n||"none",within:i||"none"})},[e])}},595731:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(683882),s=n(785893);function a({accessibilityLabel:e,color:t,count:n,icon:a,iconSize:r,verticalNavCustomSvgBackgroundUrl:l}){let c=n<100?`${n}`:"99+";return(0,s.jsxs)(i.xu,{position:"relative",children:[l?(0,s.jsx)(o.dK,{svgBackgroundImageUrl:l}):(0,s.jsx)(i.JO,{accessibilityLabel:e,color:t,icon:a,size:r}),n>0&&(0,s.jsx)(i.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{right:-6-2*c.length,top:-8,padding:`0 ${3===c.length?"2px":"3px"} 0 2px`}},display:"flex",height:18,justifyContent:"center",minWidth:18,position:"absolute",rounding:"pill",children:(0,s.jsx)(i.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:c})})})]})}},858128:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);let s=({height:e,width:t,text:n,isAbsolute:s})=>(0,o.jsx)(i.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:e,justifyContent:"center",position:s?"absolute":void 0,rounding:"pill",width:t,children:(0,o.jsx)(i.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:n||""})})})},460270:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},201700:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(88682),o=n(598228);function s({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:s,advertiserId:a}){let r=e||t||n?`${o.C0}`:"",l=`${r}${s}`;return a?(0,i.Z)(l,{advertiserId:a}):l}},998449:(e,t,n)=>{n.d(t,{Z:()=>s});let i=(e,t)=>0===e.lastIndexOf(t,0);var o=n(885896);let s=({url:e})=>{let t=(0,o.Z)("/");return i(e,t)?e.substr(t.length-1):e}},477458:(e,t,n)=>{n.d(t,{Z:()=>a,q:()=>s});var i=n(667294);let o=()=>{let[e,t]=(0,i.useState)(!1),[n,o]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1);return{active:e,focused:n,hovered:s,onBlur:()=>{o(!1),t(!1)},onFocus:()=>o(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}};function s({children:e}){return e(o())}let a=o},222881:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(494125),o=n(239821);function s({children:e}){let{setAppFocusState:t}=(0,o.I)();return(0,i.Z)(()=>(t(!1),()=>{t(!0)})),e}},474708:(e,t,n)=>{n.d(t,{q:()=>_,y:()=>p});var i=n(667294),o=n(340523),s=n(5859),a=n(238299),r=n(372085);function l(e,t){(0,a.TT)(t)&&(0,r.Z)({method:"PUT",url:`/ads/v4/preferences/${e}/`,data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var c=n(897295),u=n(785893);let d=(0,i.createContext)({campaignToolPreference:null,updateCampaignToolPreference:l}),_=({children:e})=>{let[t,n]=(0,i.useState)(null),r=(0,o.F)(),{advertiser:_}=(0,s.B)(),p=async(e,t)=>{l(e,t),n(t)};(0,i.useEffect)(()=>{(0,a.UM)(r,{skipActivation:!0})&&(async()=>{_&&n(await (0,c.f)(_.id))})()},[_,r]);let h=(0,i.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:p}),[t]);return(0,u.jsx)(d.Provider,{value:h,children:e})},p=()=>(0,i.useContext)(d)},454535:(e,t,n)=>{n.d(t,{XI:()=>o,YZ:()=>a,rc:()=>s,sU:()=>c});var i=n(667294);function o(e){let[t,n]=(0,i.useState)(!1),o=()=>n(!0),s=()=>n(!1);return(0,i.useEffect)(()=>{let{current:t}=e;return t&&(t.addEventListener("mouseenter",o),t.addEventListener("mouseleave",s)),()=>{t&&(t.removeEventListener("mouseenter",o),t.removeEventListener("mouseleave",s))}}),t}let s=e=>{let t=(0,i.useRef)(e);return(0,i.useEffect)(()=>{t.current=e}),t.current};function a(){let e=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{e.current=!1},[]),e.current}function r(e,t){return Object.is(e,t)}let l=Symbol("pre-initial value");function c(e,{equal:t=r,delta:n}={equal:r}){let o=(0,i.useRef)(l),s=o.current;return(0,i.useEffect)(()=>{o.current=e}),{previousValue:s,changed:s===l||!t(s,e),delta:n?.(s,e)}}},58120:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(240684),o=n(883119),s=n(65775),a=n(140017),r=n(674e3),l=n(785893);let c=(0,i.ZP)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(16458)]).then(n.bind(n,106110)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>106110});function u(e){let t=(0,a.ZP)();return(0,l.jsx)(r.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,l.jsx)(o.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,l.jsx)(c,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t._('Add account', 'Short text on the button that allows a user to log in to another Pinterest account', 'Short text on the button that allows a user to log in to another Pinterest account'),fallback:(0,l.jsx)(s.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})})}},311694:(e,t,n)=>{n.d(t,{T:()=>c,g:()=>l});var i=n(667294),o=n(342513),s=n(58120),a=n(785893);let{Provider:r,useHook:l}=(0,o.Z)("AccountSwitcherLoginModal");function c({children:e}){let[t,n]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),d=(0,i.useCallback)((e,t)=>{u(e),t&&l(t),n(!0)},[]),_=(0,i.useMemo)(()=>({showAccountSwitcherLoginModal:d}),[d]);return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(r,{value:_,children:e}),t&&(0,a.jsx)(s.Z,{container:c,email:o??"",onClose:()=>n(!1)})]})}},674e3:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(883119),o=n(140017),s=n(406893),a=n(623409),r=n(785893);let l=`
.AccountSwitcherModal {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}
`,c={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},u={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},d={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},_={overflow:"hidden",position:"fixed",right:"24px",top:"24px"};function p(e){let t=(0,o.ZP)(),n=(0,a.Z)(),{renderContent:p}=e;return(0,r.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:c},children:[(0,r.jsx)(s.Z,{unsafeCSS:l}),(0,r.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n({action:"click",item:"wash-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()},role:"dialog",style:u,children:(0,r.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:d,children:[p(),(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:_},children:(0,r.jsx)(i.hU,{accessibilityLabel:t._('close', 'accessible label for close button', 'accessible label for close button'),bgColor:"transparent",icon:"cancel",iconColor:"white",onClick:()=>{n({action:"dismiss",item:"close-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()}})})]})})]})}},794109:(e,t,n)=>{n.d(t,{N:()=>p,t:()=>g});var i=n(667294),o=n(616550),s=n(216167),a=n(807657),r=n(137831),l=n(114267),c=n(342513),u=n(340523),d=n(785893);let{Provider:_,useHook:p}=(0,c.Z)("LinkedAccount"),h=e=>{(0,a.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},m=(e,t)=>{r.Z.reportFacebookConversion(l.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),r.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),r.Z.reportLinkedInConversion(l.Z.LINKEDIN_PARTNER_ID,l.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),r.Z.reportGoogleConversion(l.Z.GOOGLE_ADWORDS_ID,l.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e),t.push("/")};function g({children:e}){let[t,n]=(0,i.useState)(!1),[a,r]=(0,i.useState)([]),{checkExperiment:l}=(0,u.F)(),c=(0,o.k6)(),p=l("ppm_p_gate").anyEnabled,g=(0,i.useCallback)(({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:o})=>(n(!0),s.Z.create("BusinessOwnershipResource",{business_name:e,third_party_apps:t}).callCreate({showError:!0}).then(()=>{i&&m(p,c),n(!1),h(o)}).catch(e=>(n(!1),Promise.reject({error:e})))),[n,p,c]),f=(0,i.useMemo)(()=>({createLinkedBusinessAccount:g,linkedBusinessCreationLoading:t,userAccounts:a,userAccountsRetrieved:r}),[g,t,r,a]);return(0,d.jsx)(_,{value:f,children:e})}},239821:(e,t,n)=>{n.d(t,{g:()=>_,I:()=>d});var i=n(667294),o=n(342513),s=n(705895),a=n(259866);let r={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=r,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:o,currentTime:s}=n,{videosAutoplaying:r}=e,{currentlyPlayingOrganicVideoId:l,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=r,d=(0,a.Z)(c),_=(0,a.Z)(u);return!o&&l?e:(o?d[i]={pinId:i,currentTime:s,paused:!1}:_[i]={pinId:i,currentTime:s,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:o?l:i,promotedVideosAutoplaying:d,organicVideosAutoplaying:_}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:o,currentTime:s}=n,{videosAutoplaying:r}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=r,u=(0,a.Z)(l),d=(0,a.Z)(c);return o?u[i]={...u[i],paused:!0,currentTime:s}:d[i]={...d[i],paused:!0,currentTime:s},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:u,organicVideosAutoplaying:d}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var c=n(785893);let{Provider:u,useHook:d}=(0,o.Z)("AppUI");function _({children:e}){let[t,n]=(0,i.useReducer)(l,r),o=(0,i.useCallback)(e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),a=(0,i.useCallback)(e=>n({type:"SET_APP_FOCUS_STATE",payload:e}),[]),d=(0,i.useCallback)(e=>n({type:"SET_CURRENT_VIDEO",payload:e}),[]),_=(0,i.useCallback)(e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),p=(0,i.useCallback)(e=>n({type:"SET_IS_AUTOPLAY",payload:e}),[]),h=(0,i.useCallback)(e=>n({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,i.useCallback)(e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),g=(0,i.useMemo)(()=>({pauseAutoplay:o,setCurrentVideo:d,setFooterPlusButtonVisible:_,setIsAutoplay:p,setViewportSize:h,toggleTypeaheadOverlay:m,setAppFocusState:a,appUI:t}),[o,d,_,p,h,m,a,t]);return(0,i.useEffect)(()=>{s.Z.onSessionResume(()=>{a(!0)}).onSessionPause(()=>{a(!1)})},[a]),(0,c.jsx)(u,{value:g,children:e})}},467139:(e,t,n)=>{n.d(t,{UP:()=>r,Wv:()=>o,ZF:()=>i,zI:()=>s,zl:()=>a});let i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],o=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],s=[...o,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingTool"],a=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],r=["BaseBoardPinGrid"]},286318:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(0,n(667294).createContext)(()=>null)},190149:(e,t,n)=>{n.d(t,{Z:()=>s,k:()=>i});let{Provider:i,useHook:o}=(0,n(342513).Z)("Conversations"),s=o},226136:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(190149);function o(){let{conversations:{data:e}}=(0,i.Z)();return Array.from(Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message)).sort((e,t)=>new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime())}},514810:(e,t,n)=>{n.d(t,{C:()=>i,Z:()=>s});let{Provider:i,useHook:o}=(0,n(342513).Z)("Header"),s=o},677801:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),o=n(883119),s=n(3808),a=n(205841),r=n(140017),l=n(495442),c=n(340370),u=n(5859),d=n(201700),_=n(477458),p=n(149722),h=n(514810),m=n(983983),g=n(961550),f=n(785893);function v({children:e,show:t,text:n,idealDirection:i,zIndex:s}){return t?(0,f.jsx)(o.u,{accessibilityLabel:"",idealDirection:i,text:n,zIndex:s||new o.H3([new o.Ry(m.fe)]),children:e}):e}function b({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:m,noNavigation:b=!1,idealTooltipDirection:y,tooltipZIndex:w,onClick:x}){let C=(0,p.Z)(),A=(0,u.B)(),S=(0,r.ZP)(),{active:P,hovered:I,onBlur:E,onFocus:k,onMouseDown:T,onMouseUp:L,onMouseEnter:Z,onMouseLeave:O}=(0,_.Z)(),{fullName:j,username:R,imageMediumUrl:N}=C.isAuth?C:{fullName:"",username:"",imageMediumUrl:""},{isInBiznuxFullscreen:M}=(0,h.Z)(),D=(0,i.useRef)(null),z=(0,d.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${R}/`,requestContext:A}),B=(0,c.Z)({href:z,onHistoryChange:l.Z}),U=(0,s.Z)();return M||b?(0,f.jsx)(o.xu,{"data-test-id":"header-profile",height:48,rounding:"circle",width:48,children:(0,f.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,f.jsx)(o.xu,{alignItems:"center",display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,f.jsx)(a.qE,{name:j,size:"xs",src:N})})})}):(0,f.jsx)(o.xu,{"data-test-id":"header-profile",children:(0,f.jsx)(v,{idealDirection:y,show:![e,t,n].some(Boolean),text:S._('Your profile', 'navbar.avatarButton.tooltip', 'Tooltip text for button leading to user\'s profile'),zIndex:w,children:(0,f.jsx)(o.Tg,{href:z,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{x?.(),t(),B({event:e})},rounding:"circle",children:(0,f.jsx)(o.xu,{ref:D,color:I&&!U?"secondary":void 0,dangerouslySetInlineStyle:U?{__style:{backgroundColor:I?g.bT:void 0}}:void 0,height:48,onBlur:E,onFocus:k,onMouseDown:T,onMouseEnter:Z,onMouseLeave:O,onMouseUp:L,rounding:"circle",width:48,children:(0,f.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,f.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...P||m?{border:"2px solid #111111"}:{}}},display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,f.jsx)(a.qE,{name:j,size:"xs",src:N})})})})})})})}},418739:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(883119),s=n(3808),a=n(214877),r=n(249150),l=n(961550),c=n(785893);let u=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,c.jsx)(r.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,d=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:r,selected:d,text:_,type:p="link",url:h,contextData:m,onClick:g})=>{let{logContextEvent:f}=(0,a.v)(),v=(0,s.Z)(),[b,y]=(0,i.useState)("transparent"),[w,x]=(0,i.useState)("transparent"),C=(0,i.useRef)(null),A=()=>{y("secondary"),x(l.bT)},S=()=>{y("transparent"),x("transparent")},P=()=>{y("transparent")},I=()=>{y("secondary")},E=e=>{if(m){let{event:e,component:t,element:n}=m;f({event_type:e,component:t,element:n})}g&&g(e)},k=(0,c.jsx)(o.iP,{accessibilityLabel:e,onBlur:P,onFocus:I,onMouseEnter:A,onMouseLeave:S,onTap:({event:e})=>E(e),rounding:"circle",children:(0,c.jsx)(o.xu,{alignItems:"center",color:v?void 0:b,dangerouslySetInlineStyle:v?{__style:{backgroundColor:w}}:void 0,display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:n})});if(r||"link"!==p||!h||t){if("link"===p&&(t&&n||r)){let i,s,a="pill";a=n||r?_&&!t?"pill":"circle":"pill",n&&(i=n),r&&(s=r);let l=_ instanceof Object?_:(0,c.jsx)(o.xv,{color:d?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:_});k=(0,c.jsx)(o.Tg,{accessibilityLabel:e,href:h||"",onBlur:P,onFocus:I,onMouseEnter:A,onMouseLeave:S,onTap:({event:e})=>E(e),rounding:a,children:(0,c.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[i,!!_&&!t&&(0,c.jsx)(o.xu,{paddingX:2,children:l}),s]})})}}else k=(0,c.jsx)(u,{anchorElementRef:C,experienceAnchor:"/"===h?".HomeButton2":"",children:(0,c.jsx)(o.Tg,{ref:C,accessibilityLabel:e,href:h,onBlur:P,onFocus:I,onMouseEnter:A,onMouseLeave:S,onTap:({event:e})=>E(e),rounding:"pill",children:(0,c.jsx)(o.xu,{color:v?void 0:b,dangerouslySetInlineStyle:v?{__style:{backgroundColor:w}}:void 0,paddingX:4,paddingY:4,rounding:"pill",children:(0,c.jsx)(o.xv,{color:d?"default":"subtle",overflow:"normal",weight:"bold",children:_})})})});return(0,c.jsx)(o.xu,{position:"relative",children:k})}},249222:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(883119),s=n(406893),a=n(514810),r=n(19447),l=n(785893);function c(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u="SavePin",d={__style:{left:"50%",marginLeft:-125}},_={__style:{animationName:`${u}_AnimateIn, ${u}_CircleAnimateOut`,animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:`${u}_AnimateIn, ${u}_AnimateOut`,animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},h={__style:{animationName:`${u}_NavButtonAnimation`,animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},m=()=>`
@keyframes ${u}_AnimateIn {
  from {
    transform: scale(0.0);
    opacity: 0;
  }
  to {
    opacity: 1;
    transform: scale(1.0);
  }
}
@keyframes ${u}_CircleAnimateOut {
  from {
    transform: scale(1.0);
    opacity: 1;
  }
  to {
    transform: scale(0.8);
    opacity: 0;
  }
}
@keyframes ${u}_AnimateOut {
  from {
    transform: translateY(0) scale(1.0);
    opacity: 1;
  }
  to {
    transform: translateY(-100px) scale(0.0);
    opacity: 0;
  }
}
@keyframes ${u}_NavButtonAnimation {
  0% {
    transform: scale(1.0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1.0);
  }
}
`;class g extends i.Component{constructor(...e){super(...e),c(this,"state",{imageLoaded:!1}),c(this,"handleAnimationCompletion",()=>{let{animationEnded:e}=this.props;this.setState({imageLoaded:!1},()=>{e()})}),c(this,"handleImageLoad",()=>{this.setState({imageLoaded:!0})}),c(this,"loadImage",()=>{let e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()}),c(this,"imageSrc",()=>{let{images:e={}}=this.props.lastRepin||{};return e["236x"]?.url??""}),c(this,"shouldRenderAnimation",()=>{let{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return!!(e&&n&&t)})}componentDidUpdate(e,t){let{lastRepin:n={}}=e,{imageLoaded:i}=t,{lastRepin:o,startAnimation:s}=this.props,{imageLoaded:a}=this.state;o&&o.id!==n?.id&&this.loadImage(),s&&a&&a!==i&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){let{children:e}=this.props;return this.shouldRenderAnimation()?(0,l.jsxs)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(s.Z,{unsafeCSS:m()}),(0,l.jsxs)(o.xu,{position:"relative",children:[(0,l.jsxs)(o.xu,{dangerouslySetInlineStyle:d,height:250,position:"absolute",top:!0,width:250,children:[(0,l.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:_,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),(0,l.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:p,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",right:!0,rounding:3,top:!0,width:100,children:(0,l.jsx)(o.zd,{height:"100%",rounding:2,wash:!0,width:"100%",children:(0,l.jsx)(o.Ee,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:h,children:e})]})]}):e}}function f(e){let{repinPinId:t,repinStartAnimation:n,updateHeaderState:i}=(0,a.Z)(),o=(0,r.S6)(),s=t?o(t):null;return(0,l.jsx)(g,{...e,animationEnded:()=>i({type:"hideRepinAnimation"}),lastRepin:s,startAnimation:n})}},509474:(e,t,n)=>{n.d(t,{F:()=>i,j:()=>o});let{Provider:i,useHook:o}=(0,n(342513).Z)("SiteParametersContextType")},683882:(e,t,n)=>{n.d(t,{Eq:()=>u,dK:()=>c,vX:()=>l});var i=n(667294),o=n(883119),s=n(876594),a=n(961550),r=n(785893);let l={create:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19 3.5H5C4.17157 3.5 3.5 4.17157 3.5 5V19C3.5 19.8284 4.17157 20.5 5 20.5H19C19.8284 20.5 20.5 19.8284 20.5 19V5C20.5 4.17157 19.8284 3.5 19 3.5ZM5 1C2.79086 1 1 2.79086 1 5V19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5Z" fill="%23111111"/><path d="M13.25 7C13.25 6.30964 12.6904 5.75 12 5.75C11.3096 5.75 10.75 6.30964 10.75 7V10.75H7C6.30964 10.75 5.75 11.3096 5.75 12C5.75 12.6904 6.30964 13.25 7 13.25H10.75V17C10.75 17.6904 11.3096 18.25 12 18.25C12.6904 18.25 13.25 17.6904 13.25 17V13.25H17C17.6904 13.25 18.25 12.6904 18.25 12C18.25 11.3096 17.6904 10.75 17 10.75H13.25V7Z" fill="%23111111"/></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 1C2.79086 1 1 2.79086 1 5V19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5ZM12 4.75C12.6904 4.75 13.25 5.30964 13.25 6V10.75H18C18.6904 10.75 19.25 11.3096 19.25 12C19.25 12.6904 18.6904 13.25 18 13.25H13.25V18C13.25 18.6904 12.6904 19.25 12 19.25C11.3096 19.25 10.75 18.6904 10.75 18V13.25H6C5.30964 13.25 4.75 12.6904 4.75 12C4.75 11.3096 5.30964 10.75 6 10.75H10.75V6C10.75 5.30964 11.3096 4.75 12 4.75Z" fill="%23111111"/></svg>\')'},today:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32453)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.75329 17.2467 2.5 12 2.5C6.75329 2.5 2.5 6.75329 2.5 12C2.5 17.2467 6.75329 21.5 12 21.5ZM12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M18.3839 5.61609C18.7375 5.96967 18.8463 6.49995 18.6606 6.96423L15.7439 14.2561C15.7415 14.2624 15.739 14.2687 15.7365 14.275C15.4315 15.0368 14.8232 15.6361 14.0591 15.9306L6.94891 18.6666C6.48783 18.844 5.9655 18.7332 5.61615 18.3839C5.2668 18.0346 5.15597 17.5123 5.33336 17.0512L8.06803 9.94284C8.36219 9.17808 8.96156 8.56859 9.72491 8.26414L17.0357 5.33943C17.5 5.15369 18.0303 5.26252 18.3839 5.61609ZM13.4115 13.3556C13.4126 13.3531 13.4136 13.3505 13.4146 13.3479L15.2561 8.74398L10.6512 10.5862C10.5376 10.6315 10.4466 10.7228 10.4014 10.8402L8.67684 15.323L13.1601 13.5978C13.2734 13.5541 13.364 13.4666 13.4115 13.3556Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32453"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32464)"><path d="M12.8672 12.9015C12.9835 12.7854 13.0757 12.6476 13.1386 12.4958C13.2016 12.3441 13.234 12.1815 13.2341 12.0172C13.2342 11.8529 13.202 11.6903 13.1392 11.5385C13.0764 11.3867 12.9843 11.2487 12.8682 11.1325C12.7522 11.0163 12.6143 10.9241 12.4626 10.8611C12.3109 10.7982 12.1482 10.7657 11.984 10.7656C11.8197 10.7655 11.657 10.7978 11.5052 10.8606C11.3534 10.9234 11.2155 11.0154 11.0992 11.1315C10.9832 11.2477 10.8911 11.3857 10.8283 11.5375C10.7655 11.6893 10.7333 11.8519 10.7334 12.0162C10.7336 12.348 10.8655 12.666 11.1002 12.9005C11.335 13.135 11.6532 13.2666 11.985 13.2664C12.3167 13.2662 12.6348 13.1342 12.8692 12.8995L12.8672 12.9015ZM15.1372 14.0335C14.9302 14.5505 14.5172 14.9575 13.9982 15.1575L5.61925 18.3815L8.84225 10.0045C9.04225 9.4845 9.44925 9.0715 9.96625 8.8655L18.5833 5.4185L15.1362 14.0355L15.1372 14.0335ZM20.4853 3.5145C15.7993 -1.1715 8.20125 -1.1715 3.51525 3.5145C-1.17175 8.2015 -1.17175 15.7995 3.51525 20.4855C8.20125 25.1715 15.7993 25.1715 20.4853 20.4855C25.1713 15.7995 25.1713 8.2005 20.4853 3.5145Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32464"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'},notifications:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 14.227V7C16.5 4.51471 14.4853 2.5 12 2.5C9.51471 2.5 7.5 4.51471 7.5 7V14.227L6.73561 14.9643C6.26116 15.422 5.84638 15.9379 5.5032 16.5H18.4968C18.1536 15.9379 17.7388 15.422 17.2644 14.9643L16.5 14.227ZM21.3013 16.5C21.6365 17.2867 21.8745 18.1248 22 19H2C2.12546 18.1248 2.36354 17.2867 2.69865 16.5C3.23694 15.2362 4.0256 14.1049 5 13.165V7C5 3.134 8.134 0 12 0C15.866 0 19 3.134 19 7V13.165C19.9744 14.1049 20.7631 15.2362 21.3013 16.5ZM15 20.9998H9C9 21.1702 9.01421 21.3373 9.0415 21.5C9.18134 22.3334 9.66468 23.0501 10.341 23.4998C10.8161 23.8157 11.3866 23.9998 12 23.9998C12.6134 23.9998 13.1839 23.8157 13.659 23.4998C14.3353 23.0501 14.8187 22.3334 14.9585 21.5C14.9858 21.3373 15 21.1702 15 20.9998Z" fill="%23111111"/></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32470)"><path d="M19 7V13.165C20.581 14.69 21.673 16.719 22 19H2C2.327 16.719 3.419 14.69 5 13.165V7C5 3.134 8.134 0 12 0C15.866 0 19 3.134 19 7Z" fill="%23111111"/><path d="M15 20.9998C15 22.6568 13.657 23.9998 12 23.9998C10.343 23.9998 9 22.6568 9 20.9998H15Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32470"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'},messages:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32457)"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.22294 17.3613L5.64244 19.5195L7.68018 18.4142L8.77735 18.8634C9.77551 19.2722 10.8604 19.5 12 19.5C16.6943 19.5 20.5 15.6943 20.5 11C20.5 6.30571 16.6943 2.5 12 2.5C7.30571 2.5 3.5 6.30571 3.5 11C3.5 13.037 4.21629 14.9016 5.41312 16.3686L6.22294 17.3613ZM2.749 23.933C2.366 24.151 1.909 23.805 2.016 23.377L3.476 17.949C1.93 16.054 1 13.636 1 11C1 4.925 5.925 0 12 0C18.075 0 23 4.925 23 11C23 17.075 18.075 22 12 22C10.523 22 9.117 21.704 7.83 21.177L2.749 23.933Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32457"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32468)"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 12.5C17.172 12.5 16.5 11.829 16.5 11C16.5 10.171 17.172 9.5 18 9.5C18.828 9.5 19.5 10.171 19.5 11C19.5 11.829 18.828 12.5 18 12.5ZM12 12.5C11.172 12.5 10.5 11.829 10.5 11C10.5 10.171 11.172 9.5 12 9.5C12.828 9.5 13.5 10.171 13.5 11C13.5 11.829 12.828 12.5 12 12.5ZM6 9.5C6.828 9.5 7.5 10.171 7.5 11C7.5 11.829 6.828 12.5 6 12.5C5.172 12.5 4.5 11.829 4.5 11C4.5 10.171 5.172 9.5 6 9.5ZM12 0C5.925 0 1 4.925 1 11C1 13.636 1.93 16.054 3.476 17.949L2.016 23.377C1.909 23.805 2.366 24.151 2.749 23.933L7.83 21.177C9.117 21.704 10.523 22 12 22C18.075 22 23 17.075 23 11C23 4.925 18.075 0 12 0Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32468"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'},moreOptions:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32461)"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 7.45081V16.5492L12 21.1206L20 16.5492V7.45081L12 2.87938L4 7.45081ZM12 0L1.5 6V18L12 24L22.5 18V6L12 0Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9ZM6.5 12C6.5 8.96243 8.96243 6.5 12 6.5C15.0376 6.5 17.5 8.96243 17.5 12C17.5 15.0376 15.0376 17.5 12 17.5C8.96243 17.5 6.5 15.0376 6.5 12Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32461"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32472)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.25C9.653 16.25 7.75 14.347 7.75 12C7.75 9.653 9.653 7.75 12 7.75C14.347 7.75 16.25 9.653 16.25 12C16.25 14.347 14.347 16.25 12 16.25ZM12 0L1.5 6V18L12 24L22.5 18V6L12 0Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32472"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'}},c=({svgBackgroundImageUrl:e,inline:t,verticalAlign:n,ariaLabel:i})=>(0,r.jsx)(o.xu,{"aria-label":i,dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundImage:e,verticalAlign:n}},display:t?"inlineBlock":"block",height:20,width:20}),u=({tooltipText:e,href:t,selectedSvgUrl:n,defaultSvgUrl:l,selected:u,onSelect:d})=>{let[_,p]=(0,i.useState)("transparent"),h=()=>{p(s.Kuk)},m=()=>{p("transparent")},g=(0,r.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:_}},display:"flex",height:48,justifyContent:"center",rounding:a.Rf,width:48,children:(0,r.jsx)(c,{svgBackgroundImageUrl:u?n:l})});return(0,r.jsx)(o.u,{idealDirection:a.Mh,text:e,zIndex:a.BO,children:t?(0,r.jsx)(o.Tg,{href:t,onMouseEnter:h,onMouseLeave:m,onTap:d,rounding:a.Rf,children:g}):(0,r.jsx)(o.iP,{onMouseEnter:h,onMouseLeave:m,onTap:d,rounding:a.Rf,children:g})})}},961550:(e,t,n)=>{n.d(t,{BO:()=>y,GJ:()=>h,L7:()=>_,Lc:()=>u,Mh:()=>l,Qf:()=>c,Rf:()=>w,Un:()=>x,Z7:()=>d,bT:()=>f,bd:()=>g,kl:()=>m,mT:()=>b,pS:()=>v,zz:()=>p});var i,o=n(883119),s=n(876594),a=n(898518),r=n(983983);let l="right",c=80,u="VerticalNavContent",d="lg",_=16,p=16,h=368,m=10,g=s.mJW,f=s.Kuk,v=new o.H3([r.NW]),b=new o.Ry(r.fe-3),y=new o.H3([v,a.kl]),w="circle",x=((i={}).PINTEREST_LOGO="web.vertical_nav.pinterest_logo.click",i.TODAY="web.vertical_nav.today.click",i.CREATE="web.vertical_nav.create.click",i.NEWS="web.vertical_nav.news.click",i.CONVERSATIONS="web.vertical_nav.conversations.click",i.AVATAR="web.vertical_nav.avatar.click",i.ACCOUNT_OPTIONS="web.vertical_nav.account_options.click",i.MODAL_OPT_OUT="web.vertical_nav.modal.opt_out",i.MODAL_DISMISS="web.vertical_nav.modal.dismiss",i.MORE_OPTIONS_OPT_OUT="web.vertical_nav.more_options.opt_out",i)},83255:(e,t,n)=>{n.d(t,{E:()=>i,Z:()=>s});let{Provider:i,useHook:o}=(0,n(342513).Z)("VerticalNav",{width:0}),s=o},589564:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(83255);function o(){let{width:e}=(0,i.Z)();return e}},408998:(e,t,n)=>{n.d(t,{M:()=>s,f:()=>o});var i=n(658583);let o=()=>{i.t8({name:"forced_experiments",purpose:"personalization",httpOnly:!1,duration:"30d"},JSON.stringify({web_vertical_nav:!1}))},s=()=>{i.zN("forced_experiments")}},162383:(e,t,n)=>{n.d(t,{Jo:()=>u,mv:()=>_,nJ:()=>d});var i=n(667294),o=n(342513);let s={hiddenNews:{}};function a(e=s,t){if("HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"===t.type){let{payload:{id:n,isHidden:i}}=t;return{hiddenNews:{...e.hiddenNews,[n]:i}}}return e}var r=n(785893);let{Provider:l,useHook:c}=(0,o.Z)("HiddenNews");function u({children:e}){let[t,n]=(0,i.useReducer)(a,s),o=(0,i.useMemo)(()=>({dispatch:n,hiddenNews:t}),[n,t]);return(0,r.jsx)(l,{value:o,children:e})}function d(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,i.useMemo)(()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter(e=>!(e.id in t&&t[e.id])).length}),[e,t])}function _(){let{hiddenNews:e}=c();return e}},995026:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(741983);function o(e){return!((0,i.Gl)(e)||(0,i.PY)(e)||(0,i.jC)(e)||(0,i.Xn)(e)||(0,i.b_)(e)||(0,i.oF)(e)||(0,i.dt)(e)||(0,i.x7)(e)||(0,i.cY)(e)||(0,i.bb)(e))}},483169:(e,t,n)=>{n.d(t,{_:()=>_,j:()=>p});var i=n(667294),o=n(616550),s=n(700280),a=n(342513),r=n(288673),l=n(149722),c=n(454051),u=n(785893);let{Provider:d,useHook:_}=(0,a.Z)("SosInfo");function p({children:e}){let[t,n]=(0,i.useState)("0"),{is_sterling_on_steroids:a}=(0,s.u)(),_=(0,c.HF)(),p=(0,o.TH)().pathname===_,h=(0,l.Z)(),m=h?.id;(0,i.useEffect)(()=>{!async function(){if(a&&!p){let e=await (0,r.gE)({entity_id:m});e&&e.sos_user_type&&n(e.sos_user_type)}}()},[m,a,p]);let g=(0,i.useMemo)(()=>({adminPermissionType:t}),[t]);return(0,u.jsx)(d,{value:g,children:e})}},557874:(e,t,n)=>{n.d(t,{Z:()=>g,s:()=>m});var i=n(667294),o=n(342513),s=n(608575),a=n(883119),r=n(930837),l=n(140017),c=n(339001),u=n(785893);let d=()=>{let e=(0,l.ZP)(),{dismissWarning:t}=m()??{};return(0,u.jsx)(a.xu,{paddingX:3,children:(0,u.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:t,text:e._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},_=()=>{let e=(0,l.ZP)();return(0,u.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(a.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},p=({message:e,sanitized_url:t})=>{let n=(0,l.ZP)(),{dismissWarning:i}=m()??{};return(0,u.jsx)(r.ZP,{accessibilityModalLabel:n._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,u.jsx)(d,{}),heading:n._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:i,children:(0,u.jsxs)(a.xu,{padding:6,children:[(0,u.jsx)(a.xv,{children:(0,c.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,u.jsx)(_,{},"learnMoreLink")})}),(0,u.jsxs)(a.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,u.jsx)(a.xu,{marginEnd:3,children:(0,u.jsx)(a.JO,{accessibilityLabel:n._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,u.jsx)(a.xv,{inline:!0,lineClamp:1,weight:"bold",children:s.parse(t).hostname})]})]})})},{Provider:h,useMaybeHook:m}=(0,o.Z)("SpammyClickthrough");function g({children:e}){let[t,n]=(0,i.useState)(null),o=(0,i.useCallback)(()=>{n(null)},[n]),s=(0,i.useCallback)(e=>{n(e)},[n]),a=(0,i.useMemo)(()=>({dismissWarning:o,showWarning:s}),[o,s]);return(0,u.jsxs)(h,{value:a,children:[t&&(0,u.jsx)(p,{...t}),e]})}},898518:(e,t,n)=>{n.d(t,{CZ:()=>a,Db:()=>l,Lu:()=>s,kl:()=>i,sb:()=>r,t3:()=>o,to:()=>c});let i=new(n(883119)).Ry(700),o="defaultInboxView",s="newMessageView",a="newMessageSelectRecipientsView",r="invitesRequestsView",l="followInviteEducationView",c=64},734513:(e,t,n)=>{n.d(t,{Z:()=>a,b:()=>r});var i=n(667294);let o=(0,i.createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}});var s=n(785893);function a({children:e}){let[t,n]=(0,i.useState)(null),[a,r]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(null),_=(0,i.useMemo)(()=>({inboxButton:t,setInboxButton:n,profileInboxButton:a,groupBoardMessageButton:u,setProfileInboxButton:r,isUnblockToast:l,setIsUnblockToast:c,setGroupBoardMessageButton:d}),[t,a,l,u]);return(0,s.jsx)(o.Provider,{value:_,children:e})}function r(){let e=(0,i.useContext)(o);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},474373:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(667294),o=n(616550),s=n(883119),a=n(510989),r=n(140017),l=n(741983),c=n(608516),u=n(624797),d=n(190149),_=n(432614),p=n(228150),h=n(940404),m=n(983983),g=n(683882),f=n(162383),v=n(785893);let b=()=>n.e(96218).then(n.bind(n,696218)),y=(0,i.lazy)(b);function w({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,onClearBadges:w,zIndex:x,onClick:C,onPanelChange:A,tooltipText:S}){let P=(0,r.ZP)(),I=(0,o.TH)(),E=(0,i.useRef)(null),[k,T]=(0,i.useState)(!1),[L,Z]=(0,i.useState)(!1),[O,j]=(0,i.useState)(!1),[R,N]=(0,i.useState)(!1),{tab:M,utm_source:D,news_hub_id:z}=(0,u.mB)(I.search),{conversations:{conversationsUnseenCount:B,newsHubCount:U}}=(0,d.Z)(),F=e=>{if((0,l.L6)(I))return;let t=Math.max(e,0),n=P._('Pinterest', ' - ', ' -- ');window.document.title=t?`(${t}) ${n}`:n};(0,i.useEffect)(()=>{F(B+U),I.pathname.startsWith("/notifications")&&"inbox"!==M&&T(!0)},[B,U]);let H=(0,h.ti)(D||null),V=()=>{C?.(),T(!k),w(_.S.NEWS_HUB),F(0)};return(0,i.useEffect)(()=>{let e=setTimeout(()=>{Z(k),j(k),A?.(k)},100);return()=>clearTimeout(e)},[k]),(0,i.useEffect)(()=>{k&&A?.(k)},[k]),(0,v.jsxs)(i.Fragment,{children:[H?(0,v.jsx)(s.xu,{children:(0,v.jsx)(s.xu,{ref:E,"data-test-id":"bell-icon",onMouseEnter:b,position:"relative",children:(0,v.jsx)(p.Z,{badgeCount:U,icon:"bell",onClick:V,selected:k})})}):(0,v.jsx)(s.xu,{ref:E,"data-test-id":"bell-icon",onMouseEnter:b,position:"relative",children:(0,v.jsx)(s.u,{accessibilityLabel:"",idealDirection:e,text:S||P._('Notifications', 'navbar.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications'),zIndex:x||new s.H3([new s.Ry(m.fe)]),children:(0,v.jsx)(p.Z,{badgeCount:U,defaultColor:t,icon:"bell",onClick:V,selected:k,selectedColor:n,verticalNavCustomSvgBackgroundUrlDefaultState:g.vX.notifications.default,verticalNavCustomSvgBackgroundUrlSelectedState:g.vX.notifications.selected})})}),(0,v.jsx)(f.Jo,{children:(0,v.jsx)("div",{className:"newsHubSidebarWrapper",style:k?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:L&&(0,v.jsx)(a.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,v.jsx)(c.Z,{children:(0,v.jsx)(y,{handleDismissPanel:()=>{T(!1),N(!1)},highlightScrollSidebar:R,newsButton:E.current,show:O,utmNewsHubId:z||null})})})})})]})}var x=n(647352);function C({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,zIndex:i,onClick:o,onPanelChange:s,tooltipText:a}){return(0,v.jsx)(x.Z,{icon:"bell",children:({onClearBadges:r})=>(0,v.jsx)(w,{defaultIconColor:t,idealTooltipDirection:e,onClearBadges:r,onClick:o,onPanelChange:s,selectedIconColor:n,tooltipText:a,zIndex:i})})}},228150:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(3808),o=n(140017),s=n(595731),a=n(418739),r=n(785893);function l({badgeCount:e=0,icon:t="speech-ellipsis",onClick:n,selected:l=!1,defaultColor:c="subtle",selectedColor:u="default",verticalNavCustomSvgBackgroundUrlDefaultState:d,verticalNavCustomSvgBackgroundUrlSelectedState:_}){let p=(0,o.ZP)(),h={bell:p._('Notifications', ' - ', ' -- '),"speech-ellipsis":p._('Messages', ' - ', ' -- ')},m=(0,i.Z)();return(0,r.jsx)(a.Z,{accessibilityLabel:h[t],contextData:{event:101,component:8,element:1187},icon:(0,r.jsx)(s.Z,{accessibilityLabel:"",color:l?u:c,count:e,icon:t,iconSize:24,verticalNavCustomSvgBackgroundUrl:l?m?_:void 0:m?d:void 0}),onClick:n,text:h[t],type:"button"},"NotificationsButton")}},940404:(e,t,n)=>{n.d(t,{AI:()=>D,AM:()=>y,AY:()=>Y,C:()=>ee,Cc:()=>l,DX:()=>T,GO:()=>N,HJ:()=>a,Hj:()=>_,I2:()=>U,IO:()=>es,IV:()=>o,J0:()=>g,LL:()=>Q,OBJECT_TYPE:()=>i,P:()=>A,P3:()=>m,QE:()=>ei,QX:()=>et,Rd:()=>C,So:()=>v,V$:()=>d,Vp:()=>G,WC:()=>I,ZH:()=>O,aE:()=>h,c4:()=>S,cU:()=>P,ci:()=>E,di:()=>B,gb:()=>J,gs:()=>R,hD:()=>H,hf:()=>z,hp:()=>M,hy:()=>s,ie:()=>f,kJ:()=>K,kc:()=>x,mD:()=>V,mM:()=>k,os:()=>c,pv:()=>u,qZ:()=>w,qb:()=>b,ti:()=>X,uW:()=>j,uZ:()=>r,uy:()=>$,vG:()=>W,wA:()=>p,wl:()=>F,yS:()=>en,yc:()=>Z,yf:()=>ea,ys:()=>q,zM:()=>L});let i={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},o=3,s=360,a=375,r=64,l=36,c=36,u=44,d=344,_=8,p=164,h=328,m=164,g=108.7,f=3,v=82,b=82,y=164,w=164,x=4,C=164,A=164,S=2,P=82,I=164,E=2,k=2,T=4,L=328,Z="290x",O="170x",j={backgroundColor:"rgba(0, 0, 0, 0.4)"},R=4,N="1px",M=48,D=32,z=36,B="136x136",U=2,F=24,H=20,V=72,G=48,$=54,W=54,q=4,K=118,Y=236,J={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18,HIGHLIGHT_NOTIFICATION:23},X=e=>"31"==`${String(e)}`,Q="recommendation",ee="dropdown_item_settings_id",et=10,en=20,ei=5e3,eo="#E9E4FF",es={backgroundColor:eo,borderColor:eo,paddingLeft:"16px",paddingTop:"16px",paddingBottom:"16px",paddingRight:"12px"},ea={...es,paddingRight:"10px"}},432614:(e,t,n)=>{n.d(t,{S:()=>i});let i={NEWS_HUB:1,INBOX:2}},791486:(e,t,n)=>{n.d(t,{Z:()=>i});let i=function(e){return{...e,ts:Date.now()}}},264985:(e,t,n)=>{n.d(t,{Lp:()=>u,SL:()=>l,nR:()=>c});var i=n(191313),o=n(407053),s=n(791486),a=n(89190),r=n(249170);let l=()=>{let e=(0,i.qn)(o.dx,"");return(0,r.Z)(e,[])},c=()=>{let e=(0,i.qn)(o.Lg,"");return(0,r.Z)(e,null)},u=e=>{if(!e)return;let t=[...l()],n=(0,s.Z)({inviteCode:e});(0,i.Nh)(o.Lg,JSON.stringify(n)),t.length>=a.e||(0,i.Nh)(o.dx,JSON.stringify([n].concat(t)))}},543975:(e,t,n)=>{n.d(t,{S:()=>l,d:()=>r});var i=n(191313),o=n(407053),s=n(791486),a=n(249170);let r=()=>{let e=(0,i.qn)(o.eV,"");return(0,a.Z)(e,null)},l=(e,t)=>{if(!e)return;let n=(0,s.Z)({...!!t&&{adImageUrl:t},campaignId:e});(0,i.Nh)(o.eV,JSON.stringify(n))}},926234:(e,t,n)=>{n.d(t,{C:()=>a,O:()=>s});var i=n(191313),o=n(407053);let s=()=>(0,i.qn)(o.fo,""),a=e=>{(0,i.Nh)(o.fo,e)}},901551:(e,t,n)=>{n.d(t,{Z:()=>O});var i=n(667294),o=n(616550),s=n(883119),a=n(216167),r=n(515278),l=n(140017),c=n(741983),u=n(340523),d=n(731714),_=n(494125),p=n(149722),h=n(190149),m=n(226136),g=n(432614),f=n(734513),v=n(228150),b=n(983983),y=n(683882),w=n(214877),x=n(205841),C=n(406893),A=n(5859),S=n(140186),P=n(785893);let I=(e,t,n)=>{let i=70,o=38,s=document.body?document.body.clientWidth:window.innerWidth-15;if(n){let{left:t,right:a,width:r}=n.getBoundingClientRect();e?(i=t-20,o=r/2+20-4):(i=s-a-20,o=20+r/2-4)}return`
  @keyframes fadeOut {
    0% { opacity: 1; }
    100% { opacity: 0; }
  }
  #message-notif-toast{
    position: absolute;
    top: 65px;
    ${e?"left":"right"}: ${i}px;
    animation: ${t?"fadeOut":"none"} 1000ms;
  }
  #message-notif-toast:after {
    content: '';
    position: absolute;
    top: -4px;
    ${e?"left":"right"}: ${o}px;
    width: 8px;
    height: 8px;
    background-color: rgb(17,17,17);
    clip-path: polygon(0% 0%, 100% 100%, 0% 100%);
    transform: rotate(135deg);
    border-radius: 0 0 0 3px;
  }
  `};function E({conversation:e,anchor:t}){let[n,o]=(0,i.useState)(!1),[a,r]=(0,i.useState)(!1),{dropdownOpen:c,conversationOpen:u}=(0,h.Z)(),p=(0,l.ZP)(),{isRTL:m}=(0,A.B)(),{logContextEvent:g}=(0,w.v)();if((0,_.Z)(()=>{let t=e.last_message,n=d.Z.getItem("last_notified_message_id");t&&t.id!==n&&setTimeout(()=>{o(!0),g({event_type:13,component:14993}),d.Z.setItem("last_notified_message_id",t.id),d.Z.setItem("last_notified_message_timestamp",Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||o(!1)}),setTimeout(()=>{r(!0),setTimeout(()=>{r(!1),o(!1)},800)},5e3)},S.XZ)}),!e.last_message||!n)return null;let{sender:f}=e.last_message,v=f.first_name||f.username||"",y=e.last_message.pin?p._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):p._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),E=(0,P.jsxs)(s.xv,{color:"light",inline:!0,children:[(0,P.jsxs)(s.xv,{color:"light",inline:!0,weight:"bold",children:[v," "]}),y]});return(0,P.jsx)(s.mh,{zIndex:new s.H3([new s.Ry(b.fe)]),children:(0,P.jsx)(s.iP,{onTap:()=>{c(),u(e.id),o(!1),g({event_type:101,component:14993})},children:(0,P.jsxs)(s.xu,{id:"message-notif-toast",children:[(0,P.jsx)(C.Z,{unsafeCSS:I(m,a,t)}),(0,P.jsxs)(s.xu,{alignItems:"center",color:"dark",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,role:"alert",rounding:4,children:[(0,P.jsx)(s.xu,{marginEnd:3,children:(0,P.jsx)(x.qE,{name:v,size:"sm",src:f.image_large_url})}),E]})]})})})}function k(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.Component{constructor(...e){super(...e),k(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),k(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(g.S.INBOX),this.updateBrowserTabTitleCount(0)}),k(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:n,closeConversationsDropdown:i,openConversationsDropdown:o,onClick:s}=this.props;if(s?.(),t){e&&e.stopEventPropagation(),t();return}n?i():o(),this.clearBadges(),this.onComplete&&this.onComplete()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,c.L6)(this.props.location))return;let{i18n:t}=this.props,n=Math.max(e,0),i=t._('Pinterest', ' - ', ' -- ');window.document.title=n?`(${n}) ${i}`:i}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:n,conversationWithUnreadMesage:i,idealTooltipDirection:o,defaultIconColor:a,selectedIconColor:r,zIndex:l}=this.props;return(0,P.jsxs)(s.xu,{ref:this.setButtonRef,position:"relative",children:[(0,P.jsx)(s.u,{accessibilityLabel:"",idealDirection:o,text:t._('Messages', 'navbar.conversationsButton.tooltip', 'Tooltip text for icon button to show conversations inbox'),zIndex:l||new s.H3([new s.Ry(b.fe)]),children:(0,P.jsx)(s.xu,{"data-test-id":"notifications-button",children:(0,P.jsx)(v.Z,{badgeCount:e,defaultColor:a,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:n,selectedColor:r,verticalNavCustomSvgBackgroundUrlDefaultState:y.vX.messages.default,verticalNavCustomSvgBackgroundUrlSelectedState:y.vX.messages.selected})})}),i&&(0,P.jsx)(E,{anchor:this.anchor,conversation:i})]})}}function L(e){let t=(0,l.ZP)(),n=(0,r.Z)(),s=(0,o.TH)(),{isAuth:g,isLimitedLogin:v}=(0,p.Z)();(0,_.Z)(()=>{g&&!v&&a.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:b,newsHubCount:y,showConversationsDropdown:w},dropdownClose:x,dropdownOpen:C}=(0,h.Z)(),{checkExperiment:A}=(0,u.F)(),{setInboxButton:I}=(0,f.b)(),E=(0,m.Z)().find(e=>e.unread>0),k=(0,o.k6)(),L=(0,c.C$)(k.location),Z=d.Z.getItem("last_notified_message_timestamp"),O=Z&&Date.now()-Number(Z)<S.VC,j=L&&!w&&!O&&E&&A("sg_dweb_app_start_msg_notif").anyEnabled,R=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{R.current||e.onPanelChange?.(w),R.current=!1},[w]),(0,P.jsx)(T,{...e,closeConversationsDropdown:x,conversationsUnseenCount:b,conversationWithUnreadMesage:j?E:null,i18n:t,location:s,newsHubCount:y,openConversationsDropdown:C,requireAuth:n,setInboxButton:I,showPanel:w})}var Z=n(647352);function O({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,zIndex:i,onClick:o,onPanelChange:s}){return(0,P.jsx)(Z.Z,{icon:"speech-ellipsis",children:({onClearBadges:a})=>(0,P.jsx)(L,{defaultIconColor:t,idealTooltipDirection:e,onClearBadges:a,onClick:o,onPanelChange:s,selectedIconColor:n,zIndex:i})})}},647352:(e,t,n)=>{n.d(t,{Z:()=>w});var i,o=n(667294),s=n(883119),a=n(3808),r=n(683882),l=n(167912),c=n(216167),u=n(256683),d=n(757640),_=n(325362),p=n(190149),h=n(432614),m=n(785893);let g=(0,u.Z)(_.Z);class f extends o.Component{constructor(...e){var t,n,i;super(...e),t="handleClearBadges",n=e=>{e===h.S.NEWS_HUB?(c.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!t&&!!n}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!(e&&e.data))return;let i=g(e.data);n(i.conversationsUnseenCount),t(i.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function v({conversationBadgeCall:e,children:t}){let n=(0,d.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:i,updateUnreadCount:o}=(0,p.Z)();return(0,m.jsx)(f,{badgeResource:n,conversationBadgeCall:e,updateNewsHubCount:i,updateUnreadCount:o,children:t})}let b=()=>{let e=void 0!==i?i:i=n(395980),[t]=(0,l.useMutation)(e);return async()=>await new Promise((e,n)=>{t({variables:{},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})})};function y({children:e}){return(0,m.jsx)(v,{conversationBadgeCall:b(),children:e})}function w({icon:e,children:t}){let[n,i]=(0,o.useState)(!1),l=(0,a.Z)();return((0,o.useEffect)(()=>{i(!0)},[]),n)?(0,m.jsx)(y,{children:t}):(0,m.jsx)(s.xu,{paddingX:1,children:(0,m.jsx)(s.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:l?(0,m.jsx)(r.dK,{svgBackgroundImageUrl:"speech-ellipsis"===e?r.vX.messages.default:r.vX.notifications.default}):(0,m.jsx)(s.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}},140186:(e,t,n)=>{n.d(t,{VC:()=>v,XZ:()=>f,ZP:()=>b});var i=n(616550),o=n(883119),s=n(216167),a=n(205841),r=n(454514),l=n(140017),c=n(741983),u=n(340523),d=n(731714),_=n(13848),p=n(554786),h=n(494125),m=n(149722),g=n(785893);let f=2e3,v=864e5;function b(){let e=(0,l.ZP)(),{isAuth:t,isLimitedLogin:n}=(0,m.Z)(),{checkExperiment:b}=(0,u.F)(),{showToast:y}=(0,_.F9)(),w=(0,i.k6)(),x=(0,c.C$)(w.location),C=(0,p.HG)();return(0,h.Z)(()=>{let i=async()=>{let t=s.Z.create("ConversationsResource",{field_set_key:"default"}),n=(await t.callGet()).resource_response.data.find(e=>e.unread>0),i=d.Z.getItem("last_notified_message_timestamp"),l=i&&Date.now()-Number(i)<v,c=n&&x&&!l&&b("sg_mweb_app_start_msg_notif").anyEnabled&&n.last_message,u=d.Z.getItem("last_notified_message_id");if(c&&c.id!==u){d.Z.setItem("last_notified_message_id",c.id),d.Z.setItem("last_notified_message_timestamp",Date.now());let{sender:t}=c,i=t.first_name||t.username||"",s=c.pin?e._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):e._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),l=(0,g.jsxs)(o.xv,{inline:!0,children:[(0,g.jsxs)(o.xv,{inline:!0,weight:"bold",children:[i," "]}),s]});setTimeout(()=>{y(({hideToast:o})=>(0,g.jsx)(r.ZP,{duration:5e3,onHide:o,primaryAction:{accessibilityLabel:e._('Reply to the message', 'NotificationToast.replyButton.accessibilityLabel', 'Button on notification toast for users to reply to the message'),label:e._('Reply', 'NotificationToast.replyButton.buttonText', 'Button on notification toast for users to reply to the message'),onClick:()=>{w.push(`/conversation/${n.id}`),o()}},text:l,thumbnail:{avatar:(0,g.jsx)(a.qE,{name:i,size:"sm",src:t.image_large_url})}}))},f)}};!t||n||C||i()}),null}},89511:(e,t,n)=>{n.d(t,{Z:()=>i});function i({user:e,viewer:t}){return!!(t.isAuth&&e?.username===t.username)}},728277:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(616550),o=n(757640);function s(){let{username:e}=(0,i.UO)();return(0,o.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},89190:(e,t,n)=>{n.d(t,{K:()=>o,e:()=>i});let i=100,o=28},249170:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){n=t}return n}},67661:(e,t,n)=>{n.d(t,{Z4:()=>c,ZP:()=>u,t_:()=>r});var i=n(224796),o=n(731714),s=n(791486),a=n(89190);let r=()=>{let e=o.Z.getItem(i.pm);return null!==e?JSON.stringify(e):""},l=()=>o.Z.getItem(i.pm)||[],c=(e,t)=>{let n=[...l()],r=n.length,c=r?n[0].path:"";if(r>=a.e&&n.pop(),!r||e!==c){let a=(0,s.Z)({path:e,pageType:t});o.Z.setItem(i.pm,[a].concat(n))}},u=l},454051:(e,t,n)=>{function i(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function o(e){return i("/admin/",e)}function s(e){return i("/admin/oauth/logout/",e)}function a(e){return i("/today/",e)}n.d(t,{HF:()=>o,Kn:()=>s,tG:()=>a})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/71533-81d76fc625ed18d2.mjs.map